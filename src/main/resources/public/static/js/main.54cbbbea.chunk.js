(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){e.exports=n(207)},18:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"m",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"l",function(){return m}),n.d(t,"k",function(){return h}),n.d(t,"n",function(){return b});var a="@@api/stompClient/IS_CONNECTING",r="@@api/stompClient/HAS_CONNECTED",o="@@api/stompClient/HAS_FAILED_TO_CONNECT",i="@@api/stompClient/HAS_DROP_CONNECTION",c="@@api/stompClient/INIT_OVER",s="@@api/stompClient/RECEIVED_ERROR_MESSAGE",l="@@reset/RESET_STOMP_STATE",u=function(){return{type:a}},d=function(){return{type:r}},f=function(){return{type:o}},p=function(){return{type:i}},m=function(){return{type:c}},h=function(e){return{type:s,message:e}},b=function(){return{type:l}}},181:function(e,t){},182:function(e,t,n){"use strict";n.r(t),n.d(t,"getConfig",function(){return a}),n.d(t,"saveConfig",function(){return r});var a=function(){var e=localStorage.getItem("guiConfig");return e?JSON.parse(e):(console.log("Returning a mocked config to prevent exception from NullPointer"),{host:window.location.hostname,port:window.location.port||"80",pathPrefix:window.location.pathname.substring(1,window.location.pathname.lastIndexOf("/ui"))||"",secretToken:""})},r=function(e){localStorage.setItem("guiConfig",JSON.stringify(e))}},183:function(e,t,n){"use strict";var a;n.r(t),n.d(t,"getConfig",function(){return r}),n.d(t,"saveConfig",function(){return o});var r=function(){if(!a){var e=localStorage.getItem("guiConfig");a=e?JSON.parse(e):{host:window.location.hostname,port:window.location.port||"80",pathPrefix:"",secretToken:""}}return a},o=function(e){localStorage.setItem("guiConfig",JSON.stringify(e)),a=e}},184:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),i=n(152),c=n(287),s=n(102),l=n.n(s),u=n(103),d=n.n(u),f=n(256),p=function(e){return Object(i.a)({palette:{primary:{light:l.a[300],main:l.a[500],dark:l.a[700]},secondary:{light:d.a[300],main:d.a[500],dark:d.a[700]},type:e}})},m=function(e){var t=e.children,n=e.themeType;return r.a.createElement(c.a,{theme:p(n)},r.a.createElement(f.a,null),t)},h=Object(o.c)(function(e){return{themeType:e.theme.palette.type}})(m),b=n(258),g=n(130),v=n.n(g),E=n(131),y=n.n(E),O=function(e){var t=e.palette,n=e.onClickChangeThemeType;return r.a.createElement("div",null,r.a.createElement(b.a,{"aria-label":"Switch theme type",onClick:n},"light"===t.type?r.a.createElement(v.a,{htmlColor:"#fff"}):r.a.createElement(y.a,{htmlColor:"#fff"})))},C=n(85),j=Object(o.c)(function(e){return{palette:e.theme.palette}},function(e){return{onClickChangeThemeType:function(){return e(Object(C.b)())}}})(O),S=n(87),N=n(64),k=n(269),x=n(209),w=n(288),T=n(88),R=n.n(T),I=n(6),P=n(132),_=n.n(P),D=n(276),B=n(145),A=n.n(B),F=n(40),L=n(290),H=n(275),U=n(260),M=n(211),G=n(259),W=n(136),J=n.n(W),V=n(135),q=n.n(V),z=n(155),K=n(133),Y=n.n(K),X=n(134),Z=n.n(X),Q=n(68),$=n.n(Q),ee=n(15),te=n.n(ee),ne=Object(x.a)(function(e){return Object(w.a)({container:{padding:15},leftIcon:{marginRight:e.spacing(1)},playPauseButton:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[100],boxShadow:e.shadows[2],"&:focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&:disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:"dark"===e.palette.type?e.palette.grey[800]:e.palette.grey[300],"@media (hover: none)":{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[300]},"&:disabled":{backgroundColor:e.palette.action.disabledBackground}}},redTextButton:{color:Y.a[400]},greenTextButton:{color:Z.a[400]}})}),ae=function(e){var t=ne(),n=e.className,a=e.client,o=e.overallUploadSpeed,i=e.isStarted,c=e.onClickStart,s=e.onClickStop,l=e.numberOfQueuedTorrents,u=i?"Running":"Paused";return r.a.createElement(M.a,{elevation:2,className:te()(t.container,n)},r.a.createElement(z.a,{align:"center",variant:"h5",gutterBottom:!0},u),r.a.createElement(G.a,{color:"primary",fullWidth:!0,variant:"contained",className:i?t.redTextButton:t.greenTextButton,classes:{contained:t.playPauseButton},onClick:i?s:c},i?r.a.createElement(q.a,{className:t.leftIcon}):r.a.createElement(J.a,{className:t.leftIcon}),i?"stop":"start"),r.a.createElement(U.a,{style:{marginTop:20,marginBottom:10}}),r.a.createElement(z.a,{align:"center",variant:"body2",gutterBottom:!0},r.a.createElement("b",null,a)),r.a.createElement(z.a,{align:"left",variant:"body2",gutterBottom:!0},"Overall speed :  ".concat($()(o,{base:10}),"/s")),r.a.createElement(z.a,{align:"left",variant:"body2",gutterBottom:!0},"Torrents in queue :  ".concat(l)))};ae.defaultProps={className:""};var re=ae,oe=n(31),ie=function(e){for(var t=0,n=0,a=Object.values(e);n<a.length;n++){t+=a[n].bytesPerSecond}return t},ce=Object(o.c)(function(e){return{client:e.api.client.name,overallUploadSpeed:ie(e.api.speed),isStarted:e.api.client.isStarted,numberOfQueuedTorrents:e.api.torrentFiles.length-e.api.announcers.length,onClickStart:function(){return Object(oe.e)()},onClickStop:function(){return Object(oe.f)()}}})(re),se=n(154),le=n(261),ue=Object(x.a)(function(e){return Object(w.a)({container:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(200, 200, 200, 0.63)",zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center"}})}),de=function(e){var t=ue(),n=e.style,a=e.containerStyle,o=e.active,i=Object(se.a)(e,["style","containerStyle","active"]);return o?r.a.createElement("div",{className:t.container,style:a},o&&r.a.createElement(le.a,Object.assign({},i,{style:n}))):r.a.createElement("div",{style:{width:0,height:0,position:"absolute"}})};de.defaultProps={style:{},containerStyle:{}};var fe=de,pe=n(109),me=n(65),he=n(66),be=n(100),ge=n(94),ve=n(101),Ee=n(265),ye=n(267),Oe=n(266),Ce=n(289),je=n(286),Se=n(268),Ne=n(264),ke=n(263),xe=n(5),we=function(e){function t(e){var n;Object(me.a)(this,t),n=Object(be.a)(this,Object(ge.a)(t).call(this,e));var a=e.config;return n.state={isModalVisible:!1,host:a.host,port:a.port,pathPrefix:a.pathPrefix,secretToken:a.secretToken,hostErr:""!==a.host?"":"Required field",portErr:""!==a.port?"":"Required field",pathPrefixErr:""!==a.pathPrefix?"":"Required field",secretTokenErr:""!==a.secretToken?"":"Required field"},n}return Object(ve.a)(t,e),Object(he.a)(t,[{key:"handleHostChange",value:function(e){var t=""===e?"Required field":"";this.setState({host:e,hostErr:t})}},{key:"handlePortChange",value:function(e){var t="",n=parseInt(e)-0;isNaN(n)?t="You mad bro !":(0===n&&(t="Port is required"),n>65535&&(t="A port that big, seriously ?")),this.setState({port:e,portErr:t})}},{key:"handlePathPrefixChange",value:function(e){var t=""===e?"Required field":"";this.setState({pathPrefix:e,pathPrefixErr:t})}},{key:"handleSecretTokenChange",value:function(e){var t=""===e?"Required field":"";this.setState({secretToken:e,secretTokenErr:t})}},{key:"discardChangesAndClose",value:function(){var e=this.props.config;this.setState(Object(pe.a)({},e,{isModalVisible:!1}))}},{key:"saveConfig",value:function(){var e=this.props.saveNewConf,t=this.state,n=t.host,a=t.port,r=t.pathPrefix,o=t.secretToken;this.hasError()||(e({host:n,port:a,pathPrefix:r,secretToken:o}),this.setState({isModalVisible:!1}))}},{key:"hasError",value:function(){var e=this.state,t=e.host,n=e.port,a=e.pathPrefix,r=e.secretToken,o=e.hostErr,i=e.portErr,c=e.pathPrefixErr,s=e.secretTokenErr;return!(t&&n&&a&&r)||!!(o||i||c||s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isConnected,o=t.style,i=this.state,c=i.isModalVisible,s=i.host,l=i.port,u=i.pathPrefix,d=i.secretToken,f=i.hostErr,p=i.portErr,m=i.pathPrefixErr,h=i.secretTokenErr;return r.a.createElement("div",{style:o},r.a.createElement(G.a,{variant:"contained",fullWidth:!0,onClick:function(){return e.setState({isModalVisible:!0})},className:a?"":n.redButton,classes:{contained:n.changeConfigButton}},"Change connection settings"),r.a.createElement(je.a,{open:c,onClose:function(){return e.discardChangesAndClose()},"aria-labelledby":"form-dialog-connection-settings",scroll:"paper"},r.a.createElement(ke.a,{id:"form-dialog-connection-settings"},"Connection settings"),r.a.createElement(Ne.a,null,r.a.createElement(Ee.a,{className:n.formControl,error:f.length>0,"aria-describedby":"server-address-text"},r.a.createElement(Ce.a,{htmlFor:"server-address"},"Server address"),r.a.createElement(Oe.a,{id:"server-address",placeholder:"host",value:s,onChange:function(t){return e.handleHostChange(t.target.value)}}),r.a.createElement(ye.a,{id:"server-address-text"},f)),r.a.createElement(Ee.a,{className:n.formControl,error:f.length>0,"aria-describedby":"server-port-text"},r.a.createElement(Ce.a,{htmlFor:"server-port"},"Server port"),r.a.createElement(Oe.a,{id:"server-port",placeholder:"port",type:"number",value:l,onChange:function(t){return e.handlePortChange(t.target.value)}}),r.a.createElement(ye.a,{id:"server-port-text"},p)),r.a.createElement(Ee.a,{className:n.formControl,error:f.length>0,"aria-describedby":"path-prefix-text"},r.a.createElement(Ce.a,{htmlFor:"path-prefix"},"Path prefix"),r.a.createElement(Oe.a,{id:"path-prefix",placeholder:"Obfuscation path prefix",value:u,onChange:function(t){return e.handlePathPrefixChange(t.target.value)}}),r.a.createElement(ye.a,{id:"path-prefix-text"},m)),r.a.createElement(Ee.a,{className:n.formControl,error:f.length>0,"aria-describedby":"secret-token-text"},r.a.createElement(Ce.a,{htmlFor:"secret-token"},"Secret token"),r.a.createElement(Oe.a,{id:"secret-token",placeholder:"Your secret token",value:d,onChange:function(t){return e.handleSecretTokenChange(t.target.value)}}),r.a.createElement(ye.a,{id:"secret-token-text"},h))),r.a.createElement(Se.a,null,r.a.createElement(G.a,{onClick:function(){return e.discardChangesAndClose()}},"Cancel"),r.a.createElement(G.a,{variant:"contained",color:"primary",disabled:this.hasError(),onClick:function(){return e.saveConfig()}},"Save"))))}}]),t}(a.Component);we.defaultProps={style:{}};var Te=Object(xe.a)(function(e){return Object(w.a)({changeConfigButton:{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[100],boxShadow:e.shadows[2],"&:focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&:disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:"dark"===e.palette.type?e.palette.grey[800]:e.palette.grey[300],"@media (hover: none)":{backgroundColor:"dark"===e.palette.type?e.palette.grey[700]:e.palette.grey[300]},"&:disabled":{backgroundColor:e.palette.action.disabledBackground}}},redButton:{color:e.palette.getContrastText(e.palette.error.main),backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},formControl:{margin:e.spacing(1)}})})(we),Re=n(55);var Ie=Object(o.c)(function(e){return{isConnected:e.api.stomp.isConnected,config:Object(Re.a)(),saveNewConf:function(e){Object(Re.b)(e),Object(oe.c)()}}})(Te),Pe=n(99),_e=n(52),De=n(214),Be=n(282),Ae=n(292),Fe=n(273),Le=n(140),He=n.n(Le),Ue=n(142),Me=n.n(Ue),Ge=n(143),We=n.n(Ge),Je=n(144),Ve=n.n(Je),qe=n(139),ze=n.n(qe),Ke=n(272),Ye=n(138),Xe=Object(x.a)(function(e){return Object(w.a)({root:{},leechers:{color:e.palette.primary.light,marginRight:12},seeders:{color:e.palette.primary.light}})}),Ze=function(e){var t=Xe(),n=e.className,a=e.leechers,o=e.seeders,i=null===a||void 0===a?"?":a,c=null===o||void 0===o?"?":o;return r.a.createElement(k.a,{container:!0,direction:"row",className:te()(t.root,n)},r.a.createElement(k.a,{item:!0},r.a.createElement(L.a,{title:"leechers","aria-label":"leechers",placement:"top"},r.a.createElement("span",{className:t.leechers,"data-for":"leechers","data-tip":"Leechers"},r.a.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})," ".concat(i))),r.a.createElement(L.a,{title:"seeders","aria-label":"seeders",placement:"top"},r.a.createElement("span",{className:t.seeders,"data-for":"seeders","data-tip":"Seeders"},r.a.createElement("i",{className:"fa fa-cloud-upload","aria-hidden":"true"})," ".concat(c)))))};Ze.defaultProps={className:"",leechers:void 0,seeders:void 0};var Qe=Ze,$e=function(e){var t=e.className,n=e.speedInBytesPerSeconds;return r.a.createElement(z.a,{variant:"caption",className:t},void 0===n?"? B/s":"".concat($()(n,{base:10}),"/s"))};$e.defaultProps={className:""};var et=$e,tt=Object(o.c)(function(e,t){var n=e.api.speed[t.infoHash];return{speedInBytesPerSeconds:null===n||void 0===n?void 0:n.bytesPerSecond}},function(){return{}})(et),nt=n(271),at=Object(x.a)(function(e){return Object(w.a)({progressBar:{}})}),rt=function(e){var t=at(),n=e.className;return r.a.createElement(nt.a,{color:"primary",className:te()(t.progressBar,n)})};rt.defaultProps={className:""};var ot=rt,it=Object(x.a)(function(e){return Object(w.a)({progressBar:{}})}),ct=function(e){var t=it(),n=e.className,a=r.a.useState(function(){return Math.round((Date.now()-Date.parse(e.lastAnnouncedDate))/10/e.interval)}),o=Object(_e.a)(a,2),i=o[0],c=o[1];return r.a.useEffect(function(){var t=setInterval(function(){return c(function(e){return Math.min(e+1,100)})},10*e.interval);return function(){return clearInterval(t)}},[e.lastAnnouncedDate,e.interval]),r.a.createElement(nt.a,{variant:"determinate",value:i,className:te()(t.progressBar,n)})};ct.defaultProps={className:""};var st=ct,lt=Object(x.a)(function(e){return Object(w.a)({root:{paddingTop:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(.5)},title:{marginTop:3,lineHeight:1.2,wordBreak:"break-word"},uploadSpeedContainer:{bottom:5,fontSize:18,position:"absolute",right:e.spacing(2)},peersStats:{fontSize:14},deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(Ye.fade)(e.palette.error.main,e.palette.action.hoverOpacity)},position:"absolute",right:2,top:2,padding:0,height:35,width:42},announceProgressBar:{position:"absolute",left:0,right:0,bottom:0,height:4}})}),ut=function(e){var t=lt(),n=e.width,a=e.className,o=e.announcer,i=e.onClickDeleteTorrent,c="xs"===n||"sm"===n?70:175,s=o.torrentName;return o.torrentName.length>c&&(s="".concat(o.torrentName.substring(0,c),"...")),r.a.createElement(M.a,{elevation:2,style:{position:"relative"},className:te()(t.root,a)},r.a.createElement(k.a,{container:!0,direction:"row"},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(z.a,{align:"left",className:t.title,variant:"body2",gutterBottom:!0},"".concat(s," (").concat($()(o.torrentSize,{standard:"iec"}),")"))),r.a.createElement(k.a,{item:!0,style:{width:42}},r.a.createElement(L.a,{title:"Delete this torrent",placement:"left"},r.a.createElement(b.a,{className:t.deleteButton,"aria-label":"Delete",onClick:function(){return i(o.infoHash)}},r.a.createElement(ze.a,null))))),r.a.createElement(k.a,{container:!0,direction:"row"},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(Qe,{className:t.peersStats,leechers:o.lastKnownLeechers,seeders:o.lastKnownSeeders})),r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement("div",{className:t.uploadSpeedContainer},r.a.createElement(tt,{infoHash:o.infoHash})))),o.isFetching||void 0===o.lastAnnouncedAt?r.a.createElement(ot,{className:t.announceProgressBar}):r.a.createElement(st,{className:t.announceProgressBar,lastAnnouncedDate:o.lastAnnouncedAt,interval:o.lastKnownInterval}))};ut.defaultProps={className:""};var dt=Object(Ke.a)()(ut);function ft(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var pt=function(e,t){return""===t||void 0===t?function(e,t){return 0}:"desc"===e?function(e,n){return ft(e,n,t)}:function(e,n){return-ft(e,n,t)}},mt=function(e){return""===e||void 0===e?function(e){return!0}:function(t){return t.torrentName.toLowerCase().includes(e.toLowerCase())}},ht=Object(x.a)(function(e){var t;return{searchBarPaper:{padding:"2px 4px",display:"flex",alignItems:"center"},searchBar:{marginLeft:8,flex:1},searchBarIcon:{padding:10},sortActionsContainer:(t={},Object(I.a)(t,e.breakpoints.down("xs"),{width:"100%"}),Object(I.a)(t,"width","none"),t),sortButtonGroup:function(e){return{backgroundColor:e.hasSortSelected?"":"transparent"}},toogleButtonWhenNoSortSelection:{borderColor:"transparent"}}});function bt(e){var t=e.search,n=e.onRequestSearch,a=e.order,o=e.orderBy,i=e.onRequestSort,c=ht({hasSortSelected:void 0!==o});return r.a.createElement(k.a,{container:!0,spacing:1},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(M.a,{className:c.searchBarPaper,elevation:1},r.a.createElement(De.a,{className:c.searchBar,value:t,onChange:function(e){return n(e.target.value)},placeholder:"Filter by name"}),r.a.createElement(b.a,{className:c.searchBarIcon,"aria-label":"Search"},r.a.createElement(He.a,null)))),r.a.createElement(k.a,{item:!0,className:c.sortActionsContainer},r.a.createElement(Ae.a,{className:"".concat(c.sortButtonGroup),selected:void 0!==o,value:o,exclusive:!0,onChange:function(e,t){var n;o===(n=t)||null===n?"asc"!==a?"desc"!==a||i("asc",void 0):i("desc",o):i("asc",n)}},r.a.createElement(L.a,{title:"Sort by name",placement:"top"},r.a.createElement(Fe.a,{classes:void 0===o?{root:c.toogleButtonWhenNoSortSelection}:{},selected:"torrentName"===o,value:"torrentName"},r.a.createElement(Me.a,null))),r.a.createElement(L.a,{title:"Sort by leechers",placement:"top"},r.a.createElement(Fe.a,{classes:void 0===o?{root:c.toogleButtonWhenNoSortSelection}:{},selected:"lastKnownLeechers"===o,value:"lastKnownLeechers"},r.a.createElement(We.a,null))),r.a.createElement(L.a,{title:"Sort by seeders",placement:"top"},r.a.createElement(Fe.a,{classes:void 0===o?{root:c.toogleButtonWhenNoSortSelection}:{},selected:"lastKnownSeeders"===o,value:"lastKnownSeeders"},r.a.createElement(Ve.a,null))))))}var gt=function(){return r.a.createElement("div",null,"")},vt=Object(x.a)(function(e){var t;return Object(w.a)({announersList:Object(I.a)({marginTop:e.spacing(1)},e.breakpoints.up("md"),{marginLeft:e.spacing(2)}),announcer:(t={},Object(I.a)(t,e.breakpoints.down("md"),{marginBottom:e.spacing(2)}),Object(I.a)(t,e.breakpoints.up("md"),{marginBottom:e.spacing(1)}),t)})});var Et=function(e){var t=vt(),n=r.a.useState(""),a=Object(_e.a)(n,2),o=a[0],i=a[1],c=r.a.useState("asc"),s=Object(_e.a)(c,2),l=s[0],u=s[1],d=r.a.useState(void 0),f=Object(_e.a)(d,2),p=f[0],m=f[1],h=r.a.useState(0),b=Object(_e.a)(h,2),g=b[0],v=b[1],E=r.a.useState(10),y=Object(_e.a)(E,2),O=y[0],C=y[1],j=e.announcers,S=e.onClickDeleteTorrent;return r.a.useEffect(function(){g>Math.ceil(j.length/O)-1&&v(0)},[g,j.length,O]),r.a.createElement("div",null,r.a.createElement(gt,null),r.a.createElement(bt,{search:o,onRequestSearch:i,order:l,orderBy:p,onRequestSort:function(e,t){u(e),m(t)}}),r.a.createElement(k.a,{container:!0,spacing:1},r.a.createElement(k.a,{item:!0,xs:12,className:t.announersList},j.filter(mt(o)).sort(pt(l,p)).slice(g*O,g*O+O).map(function(e){return r.a.createElement("div",{key:e.infoHash},r.a.createElement(dt,{className:t.announcer,announcer:e,onClickDeleteTorrent:S}))})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Be.a,{rowsPerPageOptions:[10,25,50],component:"div",count:j.length,rowsPerPage:O,page:g,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){v(t)},onChangeRowsPerPage:function(e){C(+e.target.value)}}))))},yt=n(70),Ot=n(114),Ct=Object(Ot.a)([function(e){return e.app.torrentsTable.searchFilter},function(e){return e.api.announcers}],function(e,t){if(0===e.trim().length)return t;var n=e.toLowerCase();return t.filter(function(e){return e.torrentName.toLowerCase().includes(n)})}),jt=Object(Ot.a)([function(e){return e.app.torrentsTable.sortProperty},function(e){return e.app.torrentsTable.sortDirection},Ct],function(e,t,n){return""===e||void 0===e||null===e?n:Object(Pe.a)(n).sort(function(n,a){return n[e]<a[e]?"asc"===t?-1:1:n[e]===a[e]?0:"asc"===t?1:-1})});var St=Object(o.c)(function(e){return{announcers:jt(e),searchFilter:e.app.torrentsTable.searchFilter,sortProperty:e.app.torrentsTable.sortProperty,sortDirection:e.app.torrentsTable.sortDirection}},function(e){return{onFilterTextChange:function(t){return e(Object(yt.c)(t))},onSortChange:function(t,n){return e(Object(yt.d)(t,n))},onClickDeleteTorrent:function(e){return Object(oe.b)(e)}}})(Et),Nt=Object(x.a)(function(e){return Object(w.a)({relative:{position:"relative"},addButton:Object(I.a)({position:"fixed",bottom:75,right:e.spacing(2)},e.breakpoints.down("sm"),{bottom:65,right:6}),addButtonInput:{display:"none"},announcers:{marginBottom:110}})}),kt=function(e){var t=Nt(),n=e.className,a=e.shouldDisplayConfigChangerButton,o=e.theme,i=e.isConnectedToWebSocket,c=e.isClientGlobalStatePending,s=e.isStarted,l=e.uploadTorrentFiles;return r.a.createElement(k.a,{container:!0,spacing:2,direction:"row",className:n},r.a.createElement(k.a,{item:!0,xs:12,md:4,lg:3},a&&r.a.createElement(Ie,{style:{marginBottom:6}}),r.a.createElement("div",{className:t.relative},r.a.createElement(fe,{active:!i||c}),r.a.createElement(ce,null))),s&&r.a.createElement(k.a,{item:!0,xs:12,md:8,lg:9,className:t.announcers},r.a.createElement(St,null)),r.a.createElement(_.a,{place:"top",type:"dark",effect:"float"}),r.a.createElement("input",{type:"file",accept:".torrent",multiple:!0,id:"add-torrent-file-button",className:t.addButtonInput,onChange:function(e){null!=e.target.files&&l(Array.from(e.target.files))}}),r.a.createElement(H.a,{in:s,timeout:{enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},style:{transitionDelay:"".concat(o.transitions.duration.enteringScreen,"ms")},unmountOnExit:!0},r.a.createElement("label",{htmlFor:"add-torrent-file-button",className:t.addButton}," ",r.a.createElement(L.a,{title:"Add a torrent","aria-label":"Add a torrent",placement:"left"},r.a.createElement(D.a,{component:"div",disabled:!s,color:"secondary","aria-label":"Add"},r.a.createElement(A.a,null))))))};kt.defaultProps={className:""};var xt=Object(F.a)(kt);var wt=Object(o.c)(function(e){return{isStarted:e.api.client.isStarted,isConnectedToWebSocket:e.api.stomp.isConnected,isClientGlobalStatePending:e.api.client.isFetching,shouldDisplayConfigChangerButton:!R()()}},function(){return{uploadTorrentFiles:function(e){return Object(oe.g)(e)}}})(xt),Tt=n(285),Rt=n(284),It=n(277),Pt=n(281),_t=n(291),Dt=Object(x.a)(function(e){return Object(w.a)({container:{padding:e.spacing(2),position:"relative"},discardChangesButton:{marginRight:e.spacing(2)},formInput:{marginBottom:e.spacing(3),minWidth:180},rightSpaced:{marginRight:e.spacing(2)}})}),Bt={PaperProps:{style:{maxHeight:288}}},At=function(e){var t=Dt(),n=e.isConnectedToWebSocket,a=e.discardLocalConfigChanges,o=e.onSettingsChange,i=e.onClickSave,c=e.availableClients,s=e.config,l=e.isLocalConfigChanged,u=function(e){return o(Object.assign({},s,e))};return r.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:12,md:6},r.a.createElement(M.a,{className:t.container,elevation:2},r.a.createElement(fe,{active:!n}),r.a.createElement(k.a,{container:!0,direction:"row"},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Tt.a,{className:te()(t.formInput,t.rightSpaced),label:"Min upload rate (kB/s)",type:"number",inputProps:{min:0},value:s.minUploadRate,onChange:function(e){var t=""===e.target.value?"":parseInt(e.target.value,10);u({minUploadRate:t})}}),r.a.createElement(Tt.a,{className:t.formInput,label:"Max upload rate (kB/s)",type:"number",inputProps:{min:0},value:s.maxUploadRate,onChange:function(e){var t=""===e.target.value?"":parseInt(e.target.value,10);u({maxUploadRate:t})}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Ee.a,{className:t.formInput},r.a.createElement(Ce.a,{htmlFor:"torrent-client-selector"},"Torrent client"),r.a.createElement(Pt.a,{value:s.client,onChange:function(e){return u({client:e.target.value})},input:r.a.createElement(Oe.a,{name:"torrent-client",id:"torrent-client-selector"}),MenuProps:Bt},c.map(function(e){return r.a.createElement(_t.a,{key:e,value:e},e.substring(0,e.lastIndexOf(".")))})))),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Tt.a,{className:t.formInput,label:"Simultaneous seed",type:"number",inputProps:{min:0},value:s.simultaneousSeed,onChange:function(e){var t=""===e.target.value?"":parseInt(e.target.value,10);u({simultaneousSeed:t})}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Tt.a,{className:t.formInput,label:"Upload ratio target",type:"number",inputProps:{min:-1,step:s.uploadRatioTarget>0?.1:1},helperText:"Set to -1.0 for indefinite seeding. Note: Uploaded amount resets to 0 upon Joal restart.",value:s.uploadRatioTarget,onChange:function(e){var t=""===e.target.value?"":e.target.value;u({uploadRatioTarget:t})}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("div",{className:t.formInput},r.a.createElement(It.a,{control:r.a.createElement(Rt.a,{style:{paddingBottom:0,paddingTop:0},color:"primary",checked:s.keepTorrentWithZeroLeechers,onChange:function(e,t){return u({keepTorrentWithZeroLeechers:t})}}),label:"Keep seeding torrents even with no peers"}),r.a.createElement(ye.a,{style:{marginTop:0}},"If checked, when a torrent reach 0 peers it will seed at 0 kB/s. Otherwise, when a torrent reach 0 peers it will be removed.")))),r.a.createElement(k.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(k.a,{item:!0},l&&r.a.createElement(G.a,{variant:"outlined",onClick:function(){return a()},color:"secondary",className:t.discardChangesButton},"Discard"),r.a.createElement(G.a,{variant:"contained",onClick:function(){return i(s)},color:"secondary"},"Save"))))))},Ft=n(71);var Lt=Object(o.c)(function(e){return{isLocalConfigChanged:void 0!==e.app.config.localConfig,config:e.app.config.localConfig||e.api.settings.config,availableClients:e.api.settings.availableClients,isConnectedToWebSocket:e.api.stomp.isConnected}},function(e){return{discardLocalConfigChanges:function(){return e(Object(Ft.c)())},onSettingsChange:function(t){return e(Object(Ft.d)(t))},onClickSave:function(e){return Object(oe.d)(e)}}})(At),Ht=n(146),Ut=n.n(Ht),Mt=n(147),Gt=n.n(Mt),Wt=Object(x.a)(function(e){return Object(w.a)({container:{textAlign:"center",marginTop:100,height:"100%"}})}),Jt=function(e){e.events;var t=Wt();return r.a.createElement(k.a,{container:!0,className:t.container},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Ut.a,{viewBox:"0 0 24 20",style:{color:Gt.a[500],height:200,width:166}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("b",null,"Hey it looks like you discovered the super secret tab !")),r.a.createElement(k.a,{item:!0,xs:12},"This tab will tell you what was the last actions JOAL has performed. Unfortunately this is still under development, check it back later ;)"))};var Vt=Object(o.c)(function(){return{events:[]}})(Jt),qt=n(278),zt=n(279),Kt=n(148),Yt=n.n(Kt),Xt=n(149),Zt=n.n(Xt),Qt=n(150),$t=n.n(Qt),en=function(e){var t,n=e.currentPath,a=e.onClickDashboard,o=e.onClickSettings,i=e.onClickLogs;return r.a.createElement(M.a,{elevation:1},r.a.createElement(qt.a,{showLabels:!0,value:(t=n,"/"===t?0:"/settings"===t?1:2),onChange:function(e,t){0===t?a():1===t?o():2===t&&i()}},r.a.createElement(zt.a,{label:"dashboard",icon:r.a.createElement(Yt.a,null)}),r.a.createElement(zt.a,{label:"configuration",icon:r.a.createElement(Zt.a,null)}),r.a.createElement(zt.a,{label:"history",icon:r.a.createElement($t.a,null)})))},tn=n(24),nn=Object(o.c)(function(e){return{currentPath:e.router.location.pathname}},function(e){return{onClickDashboard:function(){return e(Object(tn.d)("/"))},onClickSettings:function(){return e(Object(tn.d)("/settings"))},onClickLogs:function(){return e(Object(tn.d)("/history"))}}})(en),an=n(153),rn=Object(x.a)(function(e){return Object(w.a)({dropzone:{position:"absolute",top:0,bottom:0,left:0,right:0},overlay:{zIndex:16777270,position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(156, 155, 155, 0.86)",color:"rgba(130, 130, 130, 0.75)",display:"flex",alignItems:"center",justifyContent:"center"}})}),on=function(e){var t=rn(),n=e.children,a=Object(an.a)({onDrop:function(t,n){return e.onDrop(t,n)},noClick:!0,noKeyboard:!0,multiple:!0}),o=a.getRootProps,i=a.getInputProps,c=a.isDragActive,s=o({onClick:function(e){e.stopPropagation()}});return r.a.createElement("div",Object.assign({},s,{className:t.dropzone}),r.a.createElement("input",i()),n,c&&r.a.createElement("div",{className:t.overlay},r.a.createElement("i",{className:te()("fa","fa-download","fa-5x"),"aria-hidden":"true"})))},cn=n(280),sn=n(274),ln=Object(x.a)(function(e){return Object(w.a)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})}),un=function(e){var t=ln(),n=e.className;return r.a.createElement("div",{className:te()(t.root,n)},r.a.createElement(cn.a,{position:"static"},r.a.createElement(sn.a,null,r.a.createElement(z.a,{variant:"h6",color:"inherit",className:t.grow},"Joal"),r.a.createElement(j,null))))};un.defaultProps={className:{}};var dn=un,fn=n(74),pn=function(e){var t=e.className,n=e.children;return r.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{minWidth:24}},n)};pn.defaultProps={className:""};var mn=pn,hn=Object(x.a)(function(e){return Object(w.a)({icon:{stroke:"#2E9AFE"}})}),bn=function(e){var t=hn(),n=e.className;return r.a.createElement(mn,{className:te()(t.icon,n)},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))};bn.defaultProps={className:""};var gn=bn,vn=Object(x.a)(function(e){return Object(w.a)({icon:{stroke:"#31B404"}})}),En=function(e){var t=vn(),n=e.className;return r.a.createElement(mn,{className:te()(t.icon,n)},r.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))};En.defaultProps={className:""};var yn=En,On=Object(x.a)(function(e){return Object(w.a)({icon:{stroke:"#FF0040"}})}),Cn=function(e){var t=On(),n=e.className;return r.a.createElement(mn,{className:te()(t.icon,n)},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))};Cn.defaultProps={className:""};var jn=Cn,Sn=Object(x.a)(function(e){return Object(w.a)({icon:{stroke:"#000000"}})}),Nn=function(e){var t=Sn(),n=e.className;return r.a.createElement(mn,{className:te()(t.icon,n)},r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))};Nn.defaultProps={className:""};var kn=Nn,xn=Object(x.a)(function(e){var t;return Object(w.a)({alert:(t={backgroundColor:"".concat("dark"===e.palette.type?"#333":"#fff"),borderRadius:3,padding:10,display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px 2px 2px 2px rgba(0, 0, 0, 0.03)",fontFamily:"Arial",fontSize:11,width:350},Object(I.a)(t,e.breakpoints.down("xs"),{width:"75vw"}),Object(I.a)(t,"boxSizing","border-box"),Object(I.a)(t,"position","relative"),t),message:{color:"".concat("dark"===e.palette.type?"#fff":"#333"),paddingRight:40,textAlign:"center",textTransform:"uppercase"},statusIcon:{marginRight:15},closeButton:{padding:0,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:0,top:0,bottom:0,width:40,border:"none",backgroundColor:"dark"===e.palette.type?"#444":"#f3f3f3",cursor:"pointer"},closeIconOverride:{stroke:"dark"===e.palette.type?"#BBB":"#000"}})}),wn=function(e){var t=xn(),n=e.message,a=e.options,o=e.style,i=e.close;return r.a.createElement("div",{className:t.alert,style:o},"success"===a.type&&r.a.createElement(yn,{className:t.statusIcon}),"info"===a.type&&r.a.createElement(gn,{className:t.statusIcon}),"error"===a.type&&r.a.createElement(jn,{className:t.statusIcon}),r.a.createElement("span",{className:t.message,style:{flex:2}},n),r.a.createElement("button",{className:t.closeButton,onClick:i,type:"button"},r.a.createElement(kn,{className:t.closeIconOverride})))},Tn=n(86),Rn=function(e){function t(){return Object(me.a)(this,t),Object(be.a)(this,Object(ge.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(he.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.notifs,a=t.shouldShowDirtyConfNotif;return n!==e.notifs||a!==e.shouldShowDirtyConfNotif}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.shouldShowDirtyConfNotif,r=n.alert,o=n.notifs;e.shouldShowDirtyConfNotif!==a&&!0===a&&r.info("Config wont be refreshed until you restart JOAL"),o!==e.notifs&&o.forEach(function(n){-1===e.notifs.findIndex(function(e){return e.id===n.id})&&t.showNotification(n)})}},{key:"showNotification",value:function(e){var t=this.props,n=t.alert,a=t.onMessageClosed,o=Object.assign({},e,{onClose:function(){return a(e.id)}}),i=o.text;switch(o.type){case"ERROR":n.error(r.a.createElement("span",null,i),o);break;case"SUCCESS":n.success(i,o);break;case"INFO":n.info(i,o);break;default:console.error("Unknown AlertMessage type: ".concat(o.type))}}},{key:"render",value:function(){return r.a.createElement("span",null)}}]),t}(a.Component);var In=Object(fn.d)()(Object(o.c)(function(e){var t=e.alerts;return{notifs:t.notifs,shouldShowDirtyConfNotif:t.shouldShowDirtyConfNotif}},function(e){return{onMessageClosed:function(t){return e(Object(Tn.b)(t))}}})(Rn)),Pn=Object(Ke.a)()(function(e){var t=e.width;return r.a.createElement(fn.a,{template:wn,offset:Object(Ke.b)("sm",t)?"10px":"6px",position:fn.b.TOP_RIGHT,timeout:0,transition:fn.c.FADE,containerStyle:{zIndex:14e6}},r.a.createElement(In,null))}),_n=Object(x.a)(function(e){return Object(w.a)({root:{flexGrow:1,padding:e.spacing(2)},navigationBarWrapper:{position:"fixed",left:0,right:0,bottom:0}})}),Dn=Object(o.c)(function(){return{onFileDrop:function(e){Object(oe.g)(e)}}})(function(e){var t=e.onFileDrop,n=e.history,a=_n();return r.a.createElement("div",null,r.a.createElement(Pn,null),r.a.createElement(on,{onDrop:t},r.a.createElement("header",null,r.a.createElement(dn,null)),r.a.createElement(k.a,{container:!0,className:a.root},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("main",null,r.a.createElement(N.a,{history:n},r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/history",component:Vt}),r.a.createElement(S.a,{exact:!0,path:"/settings",component:Lt}),r.a.createElement(S.a,{exact:!0,path:"/",component:wt})))),r.a.createElement("footer",{className:a.navigationBarWrapper},r.a.createElement(nn,null))))))});t.default=function(e){var t=e.store,n=e.history;return r.a.createElement(o.a,{store:t},r.a.createElement(h,null,r.a.createElement(Dn,{history:n})))}},207:function(e,t,n){"use strict";n.r(t);var a,r,o,i,c,s,l,u,d,f=n(0),p=n.n(f),m=n(10),h=n.n(m),b=(n(109),n(99)),g=n(17),v=n(48),E=n(122),y=(n(171),n(25)),O=n(64),C=n(6),j=n(70),S=Object(g.b)({searchFilter:"",sortProperty:"",sortDirection:"",currentPage:1,torrentsPerPage:10},(a={},Object(C.a)(a,j.a,function(e,t){e.searchFilter=t.text}),Object(C.a)(a,j.b,function(e,t){e.sortProperty=t.sortProperty,e.sortDirection=t.sortDirection}),a)),N=n(71),k=n(28),x={localConfig:void 0},w=Object(g.b)(x,(r={},Object(C.a)(r,N.b,function(e,t){e.localConfig=t.config}),Object(C.a)(r,N.a,function(e){e.localConfig=void 0}),Object(C.a)(r,k.b,function(){return x}),Object(C.a)(r,k.a,function(){return x}),r)),T=n(85),R={palette:{type:localStorage.getItem("themeType")||"light"}},I=Object(g.b)(R,Object(C.a)({},T.a,function(e){var t="light"===e.palette.type?"dark":"light";localStorage.setItem("themeType",t),e.palette.type=t})),P=n(41),_=[],D=Object(g.b)(_,(o={},Object(C.a)(o,P.c,function(e,t){var n=e.filter(function(e){return e.infoHash!==t.payload.infoHash});return n.push(t.payload),n}),Object(C.a)(o,P.d,function(e,t){return e.filter(function(e){return e.infoHash!==t.payload.infoHash})}),Object(C.a)(o,P.a,function(e){return e}),Object(C.a)(o,P.b,function(){return _}),o)),B=n(42),A={isFetching:!0,isStarted:!1,name:""},F=Object(g.b)(A,(i={},Object(C.a)(i,B.a,function(e,t){e.isFetching=!1,e.isStarted=!0,e.name=t.payload.client}),Object(C.a)(i,B.b,function(e){e.isFetching=!1,e.isStarted=!1,e.name=""}),Object(C.a)(i,B.d,function(e){e.isFetching=!0}),Object(C.a)(i,B.e,function(e){e.isFetching=!0}),Object(C.a)(i,B.c,function(){return A}),i)),L={isDirty:!1,errMessage:void 0,config:{minUploadRate:0,maxUploadRate:0,simultaneousSeed:0,client:"",keepTorrentWithZeroLeechers:!1,uploadRatioTarget:-1},availableClients:[]},H=Object(g.b)(L,(c={},Object(C.a)(c,k.b,function(e,t){e.isDirty=!0,e.config=t.payload.config,e.errMessage=void 0}),Object(C.a)(c,k.c,function(e,t){e.errMessage=t.payload.error}),Object(C.a)(c,k.a,function(e,t){e.isDirty=!1,e.config=t.payload.config,e.errMessage=void 0}),Object(C.a)(c,k.d,function(e,t){e.availableClients=t.payload.clients}),Object(C.a)(c,k.e,function(){return L}),c)),U=n(78),M={},G=Object(g.b)(M,(s={},Object(C.a)(s,U.b,function(e,t){var n={},a=!0,r=!1,o=void 0;try{for(var i,c=t.payload.speeds[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;n[s.infoHash]=s}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}),Object(C.a)(s,U.a,function(){return M}),s)),W=n(51),J=[],V=Object(g.b)(J,(l={},Object(C.a)(l,W.a,function(e,t){if(e.find(function(e){return e.infoHash===t.payload.infoHash}))return e.map(function(e){return e.infoHash===t.payload.infoHash?Object.assign({},e,{isFetching:!1},t.payload):e});e.push(Object.assign({},{isFetching:!1},t.payload))}),Object(C.a)(l,W.c,function(e,t){return"STOPPED"===t.payload.requestEvent?e.filter(function(e){return e.infoHash!==t.payload.infoHash}):e.find(function(e){return e.infoHash===t.payload.infoHash})?e.map(function(e){return e.infoHash===t.payload.infoHash?Object.assign({},e,{isFetching:!1},t.payload):e}):void e.push(Object.assign({},{isFetching:!1},t.payload))}),Object(C.a)(l,W.d,function(e,t){return e.filter(function(e){return e.infoHash!==t.payload.infoHash})}),Object(C.a)(l,W.e,function(e,t){if(e.find(function(e){return e.infoHash===t.payload.infoHash}))return e.map(function(e){return e.infoHash===t.payload.infoHash?Object.assign({},e,{isFetching:!0},t.payload):e});e.push(Object.assign({},{isFetching:!0},t.payload))}),Object(C.a)(l,W.b,function(){return J}),l)),q=n(18),z={isConnected:!1,isFullyInit:!1},K=Object(g.b)(z,(u={},Object(C.a)(u,q.e,function(e){e.isFullyInit=!1}),Object(C.a)(u,q.a,function(e){e.isConnected=!0}),Object(C.a)(u,q.c,function(e){e.isConnected=!1,e.isFullyInit=!1}),Object(C.a)(u,q.b,function(e){e.isConnected=!1,e.isFullyInit=!1}),Object(C.a)(u,q.d,function(e){e.isFullyInit=!0}),Object(C.a)(u,q.g,function(){return z}),u)),Y=Object(y.combineReducers)({torrentFiles:D,client:F,announcers:V,settings:H,speed:G,stomp:K}),X=n(86),Z=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},Q=!1,$=Object(g.b)({shouldShowDirtyConfNotif:!1,notifs:[]},(d={},Object(C.a)(d,q.d,function(e){return Q=!0,e}),Object(C.a)(d,q.a,function(e){Q=!1;var t={id:Z(),text:"Connected to JOAL",timeout:6e3,type:"SUCCESS"};e.notifs.push(t)}),Object(C.a)(d,q.b,function(e){var t={id:Z(),text:"Lost connection to JOAL, auto-reconnect in 8 seconds.",timeout:6e3,type:"ERROR"};e.notifs.push(t)}),Object(C.a)(d,q.c,function(e){var t={id:Z(),text:"Failed to connect to JOAL, retry in 8 seconds.",timeout:6e3,type:"ERROR"};e.notifs.push(t)}),Object(C.a)(d,X.a,function(e,t){e.notifs=e.notifs.filter(function(e){return e.id!==t.payload})}),Object(C.a)(d,k.b,function(e){e.shouldShowDirtyConfNotif=!0}),Object(C.a)(d,k.a,function(e){e.shouldShowDirtyConfNotif=!1}),Object(C.a)(d,k.c,function(e,t){var n={id:Z(),text:"Invalid config: ".concat(t.payload.error),timeout:6e3,type:"ERROR"};e.notifs.push(n)}),Object(C.a)(d,P.c,function(e,t){if(!Q)return e;var n={id:Z(),text:"".concat(t.payload.name," added"),timeout:6e3,type:"SUCCESS"};e.notifs.push(n)}),Object(C.a)(d,P.a,function(e,t){var n={id:Z(),text:"".concat(t.payload.fileName," was rejected by server: ").concat(t.payload.error),timeout:6e3,type:"ERROR"};e.notifs.push(n)}),Object(C.a)(d,q.f,function(e,t){var n={id:Z(),text:t.message,timeout:8e3,type:"ERROR"};e.notifs.push(n)}),d)),ee=function(e){return Object(y.combineReducers)({api:Y,app:Object(y.combineReducers)({config:w,torrentsTable:S}),theme:I,alerts:$,router:Object(O.b)(e)})},te=Object(v.a)();var ne=n(55),ae=n(31);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(184),n(185);var re=function(e){var t=ee(te),n=[Object(E.a)(te)].concat(Object(b.a)(Object(g.c)()));return Object(g.a)({reducer:t,middleware:n,devTools:!1,preloadedState:e})}();!function(){if(window.location.search&&window.location.search.includes("ui_credentials")){var e=new URLSearchParams(window.location.search),t=e.get("ui_credentials");if(null!==t)try{var n=JSON.parse(decodeURIComponent(t));Object(ne.b)(n)}catch(r){console.error("Failed to extract uiConfig from url params.",r)}finally{e.delete("ui_credentials");var a=window.location.pathname;!1===e.keys().next().done&&(a+="?".concat(e.toString())),window.location.hash&&(a+=window.location.hash),window.history.replaceState({},document.title,a)}}}(),Object(ae.a)(re);var oe=document.getElementById("root");!function(){var e=n(206).default;h.a.render(p.a.createElement(e,{store:re,history:te}),oe)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l});var a="@@api/listener/CONFIG_IS_IN_DIRTY_STATE",r="@@api/listener/INVALID_CONFIG",o="@@api/listener/CONFIG_HAS_BEEN_LOADED",i="@@api/listener/LIST_OF_CLIENT_FILES",c="@@reset/RESET_CONFIG",s=function(e){return{type:"@@api/send/SEND_CONFIG",config:e}},l=function(){return{type:c}}},31:function(e,t,n){"use strict";var a,r,o=n(65),i=n(66),c=n(128),s=n.n(c),l=n(55),u=n(18),d=function(){function e(t,n){Object(o.a)(this,e),this.reconnectTimeout=void 0,this.reduxStore=void 0,this.onDisconnectCallback=void 0,this.subscriptions=void 0,this.stompClient=void 0,this.reconnectTimeout=void 0,this.reduxStore=t,this.onDisconnectCallback=n,this.subscriptions=[],this.stompClient={}}return Object(i.a)(e,[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.stompClient&&this.stompClient.connected?this.stompClient.send(e,t,n):console.error("You can not send message to JOAL when not connected through WebSocket.")}},{key:"connect",value:function(){var e=this,t=Object(l.a)(),n="https:"===window.location.protocol?"wss":"ws",a="".concat(n,"://").concat(t.host,":").concat(t.port,"/").concat(t.pathPrefix),r=t.secretToken;this._dispatchOnConnect(),this.stompClient=s.a.client(a,{debug:!1,protocols:["v12.stomp","v11.stomp"]}),this.stompClient.connect({"X-Joal-Auth-Token":r,"X-Joal-Username":([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},function(){e._dispatchHasConnected(),e.stompClient.subscribe("/joal/initialize-me",function(t){JSON.parse(t.body).forEach(function(t){e.onReceiveMessage(t)}),e._dispatchIsReady(),t.ack(),e.stompClient.unsubscribe("/initialize-me")}),["/global","/announce","/config","/torrents","/speed"].forEach(function(t){var n=e.stompClient.subscribe(t,function(t){t.ack(),e.onReceiveMessage(JSON.parse(t.body))},{ack:"client"});e.subscriptions.push(n)})},function(t){(console.log("error message from websocket",t),t instanceof CloseEvent)?(e.subscriptions.length>0?e._dispatchHasDropConnection():e._dispatchHasFailedToConnect(),e.onDisconnectCallback&&e.onDisconnectCallback(),e._reconnectAfterTimeout(8e3)):e.reduxStore.dispatch(Object(u.k)(t.headers.message||"Undefined error"))})}},{key:"_dispatchIsReady",value:function(){this.reduxStore.dispatch(Object(u.l)())}},{key:"_dispatchOnConnect",value:function(){this.reduxStore.dispatch(Object(u.m)())}},{key:"_dispatchHasConnected",value:function(){this.reduxStore.dispatch(Object(u.h)())}},{key:"_dispatchHasDropConnection",value:function(){this.reduxStore.dispatch(Object(u.i)())}},{key:"_dispatchHasFailedToConnect",value:function(){this.reduxStore.dispatch(Object(u.j)())}},{key:"onReceiveMessage",value:function(e){var t=e.type,n=e.payload;this.reduxStore.dispatch({type:"@@api/listener/".concat(t),payload:n})}},{key:"_reconnectAfterTimeout",value:function(e){var t=this;this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],void 0===this.reconnectTimeout&&(this.reconnectTimeout=window.setTimeout(function(){t.connect(),t.reconnectTimeout=void 0},e))}},{key:"disconnect",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[],this.stompClient&&this.stompClient.connected&&this.stompClient.disconnect(),this.onDisconnectCallback&&this.onDisconnectCallback()}},{key:"disconnectAndReconnect",value:function(){clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.disconnect(),this.connect()}}]),e}(),f=n(51),p=n(42),m=n(28),h=n(41),b=n(78);n.d(t,"a",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"g",function(){return C}),n.d(t,"b",function(){return j});var g=function(e){(r=new d(a=e,function(){a.dispatch(Object(u.n)()),a.dispatch(Object(m.f)()),a.dispatch(Object(p.f)()),a.dispatch(Object(f.f)()),a.dispatch(Object(h.e)()),a.dispatch(Object(b.c)())})).connect()},v=function(){r.disconnectAndReconnect()},E=function(){a.dispatch(Object(p.g)()),r.send("/joal/global/start")},y=function(){a.dispatch(Object(p.h)()),r.send("/joal/global/stop")},O=function(e){a.dispatch(Object(m.g)(e)),r.send("/joal/config/save",JSON.stringify(e))},C=function(e){var t=new FileReader;!function n(){var a,o=e.pop();void 0!==o&&(a=o,t.onload=function(){if(null!=t.result){var e=t.result.replace(/data:.+?,/,"");r.send("/joal/torrents/upload",JSON.stringify({fileName:a.name,b64String:e})),setTimeout(n,1300)}},t.onabort=function(){return console.log("file reading was aborted for [".concat(a.name,"]"))},t.onerror=function(){return console.log("file reading has failed for [".concat(a.name,"]"))},t.readAsDataURL(a))}()},j=function(e){r.send("/joal/torrents/delete",e)}},41:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return c});var a="@@api/listener/TORRENT_FILE_ADDED",r="@@api/listener/TORRENT_FILE_DELETED",o="@@api/listener/FAILED_TO_ADD_TORRENT_FILE",i="@@reset/RESET_TORRENT_FILES_STATE",c=function(){return{type:i}}},42:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return u});var a="@@api/listener/GLOBAL_SEED_STARTED",r="@@api/listener/GLOBAL_SEED_STOPPED",o="@@api/send/SEND_START_TO_SERVER",i="@@api/send/SEND_STOP_TO_SERVER",c="@@reset/RESET_CLIENT_STATE";function s(){return{type:o}}function l(){return{type:i}}var u=function(){return{type:c}}},51:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return s});var a="@@api/listener/FAILED_TO_ANNOUNCE",r="@@api/listener/SUCCESSFULLY_ANNOUNCE",o="@@api/listener/TOO_MANY_ANNOUNCES_FAILED",i="@@api/listener/WILL_ANNOUNCE",c="@@reset/RESET_ANNOUNCER_STATE",s=function(){return{type:c}}},55:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var a,r=n(88),o=n.n(r);n(181);a=o()()?n(182):n(183);var i=function(){return a.getConfig()},c=function(e){return a.saveConfig(e)}},70:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i});var a="@@ui/torrents-table/TORRENT_SEARCH_FILTER_TEXT_CHANGED",r="@@ui/torrents-table/TORRENT_SORT_CHANGED";function o(e){return{type:a,text:e}}function i(e,t){return{type:r,sortProperty:e,sortDirection:t}}},71:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i});var a="@@ui/LOCAL_CONFIG_HAS_CHANGED",r="@@ui/DISCARD_LOCAL_CONFIG",o=function(e){return{type:a,config:e}},i=function(){return{type:r}}},78:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var a="@@api/listener/SEEDING_SPEED_HAS_CHANGED",r="@@reset/RESET_SPEED_STATE",o=function(){return{type:r}}},85:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="@@ui/theme/CHANGE_THEME_TYPE";function r(){return{type:a}}},86:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a="@@notifications/REMOVE_NOTIFICATION",r=function(e){return{type:a,payload:e}}}},[[166,1,2]]]);
//# sourceMappingURL=main.54cbbbea.chunk.js.map