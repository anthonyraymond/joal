{"version":3,"sources":["modules/joal-api/stomp/stomp.actions.js","utils/ConfigProvider/ElectronConfigProvider.js","utils/ConfigProvider/WebBrowserConfigProvider.js","modules/joal-api/settings/settings.actions.js","modules/joal-api/index.js","modules/joal-api/JoalStompClient.js","modules/joal-api/torrentFiles/torrentFile.actions.js","modules/joal-api/client/client.actions.js","modules/theme/provider/theme-provider.component.js","modules/theme/provider/theme-provider.container.js","modules/theme/theme-modifier/theme-modifier.component.js","modules/theme/theme-modifier/theme-modifier.container.js","components/ClientInfo/clientInfo.component.js","components/ClientInfo/clientInfo.container.js","components/ClientInfo/index.js","components/Generics/FetchingIndicator/AbsoluteOverlayFetchingIndicator.js","components/UiConfigChanger/uiConfigChanger.component.js","components/UiConfigChanger/uiConfigChanger.container.js","components/UiConfigChanger/index.js","components/TorrentsTable/Announcer/Peers/Peers.js","components/TorrentsTable/Announcer/Peers/index.js","components/TorrentsTable/Announcer/ProgressBar/DeterminateProgresBar.js","components/TorrentsTable/Announcer/ProgressBar/UndeterminateProgressBar.js","components/TorrentsTable/Announcer/ProgressBar/SmartProgressBar.js","components/TorrentsTable/Announcer/ProgressBar/index.js","components/TorrentsTable/Announcer/UploadSpeed/uploadSpeed.component.js","components/TorrentsTable/Announcer/UploadSpeed/uploadSpeed.container.js","components/TorrentsTable/Announcer/UploadSpeed/index.js","components/TorrentsTable/Announcer/Announcer.js","components/TorrentsTable/Announcer/index.js","components/TorrentsTable/SearchBar/searchBar.component.js","components/TorrentsTable/SearchBar/index.js","components/TorrentsTable/torrentsTable.component.js","components/TorrentsTable/torrentsTable.container.js","components/TorrentsTable/index.js","pages/dashboard/dashboard.component.js","pages/dashboard/dashboard.container.js","pages/dashboard/index.js","pages/settings/settings.component.js","pages/settings/settings.container.js","pages/settings/index.js","pages/event-history/event-history.component.js","pages/event-history/event-history.container.js","pages/event-history/index.js","components/NavigationBar/navigationBar.component.js","components/NavigationBar/navigationBar.container.js","components/NavigationBar/index.js","components/TorrentDropZone.js","components/AppBar/appbar.component.js","components/AppBar/index.js","modules/alerts/alert-template/icons/BaseIcon.js","modules/alerts/alert-template/icons/InfoIcon.js","modules/alerts/alert-template/icons/SuccessIcon.js","modules/alerts/alert-template/icons/ErrorIcon.js","modules/alerts/alert-template/icons/CloseIcon.js","modules/alerts/alert-template/index.js","modules/alerts/alert-template/alert-template.component.js","modules/alerts/alerts-displayer.component.js","modules/alerts/index.js","modules/alerts/alerts-provider.component.js","pages/App.js","pages/Root.js","reducers/createReducer.js","components/TorrentsTable/torrentsTable.reducer.js","pages/settings/settings.reducer.js","modules/theme/theme-modifier/theme-modifier.reducer.js","modules/joal-api/torrentFiles/torrentFiles.reducer.js","modules/joal-api/client/client.reducer.js","modules/joal-api/settings/settings.reducer.js","modules/joal-api/speed/speed.reducer.js","modules/joal-api/announcers/announcers.reducer.js","modules/joal-api/stomp/stomp.reducer.js","modules/alerts/alerts.reducer.js","reducers/index.js","store/configureStore.prod.js","serviceWorker.js","index.js","modules/joal-api/announcers/announcers.actions.js","utils/ConfigProvider/index.js","store/configureStore.js","pages/settings/settings.actions.js","modules/joal-api/speed/speed.actions.js","components/TorrentsTable/torrentsTable.actions.js","modules/theme/theme-modifier/theme-modifier.actions.js","modules/alerts/alerts.actions.js"],"names":["__webpack_require__","d","__webpack_exports__","IS_CONNECTING","HAS_CONNECTED","HAS_FAILED_TO_CONNECT","HAS_DROP_CONNECTION","INIT_OVER","RECEIVED_ERROR_MESSAGE","RESET_STOMP_STATE","isConnecting","hasConnected","hasFailedToConnect","hasDropConnection","initOver","hasReceivedError","resetStompState","type","message","r","getConfig","saveConfig","localStorageConf","localStorage","getItem","JSON","parse","console","log","host","window","location","hostname","port","pathPrefix","pathname","substring","lastIndexOf","secretToken","newConfig","setItem","stringify","cachedConf","CONFIG_IS_IN_DIRTY_STATE","INVALID_CONFIG","CONFIG_HAS_BEEN_LOADED","LIST_OF_CLIENT_FILES","RESET_CONFIG","sendConfig","resetConfig","config","store","stompClient","JoalStompClient","reduxStore","onDisconnectCallback","Object","classCallCheck","this","reconnectTimeout","undefined","subscriptions","path","body","arguments","length","headers","connected","send","error","_this","guiConf","getGUIConfig","urlScheme","protocol","url","concat","_dispatchOnConnect","Webstomp","client","debug","protocols","connect","X-Joal-Auth-Token","X-Joal-Username","replace","c","crypto","getRandomValues","Uint8Array","toString","_dispatchHasConnected","subscribe","forEach","msg","onReceiveMessage","_dispatchIsReady","ack","unsubscribe","subscribesPath","subscribtion","push","CloseEvent","_dispatchHasDropConnection","_dispatchHasFailedToConnect","_reconnectAfterTimeout","dispatch","payload","timeout","_this2","sub","setTimeout","disconnect","clearTimeout","joal_api_connectStomp","disconnectAndReconnect","joal_api_sendStartSession","joal_api_sendStopSession","joal_api_sendConfigToServer","uploadTorrents","deleteTorrent","connectStomp","appStore","resetClientState","resetAnnouncerState","resetTorrentFilesState","resetSpeedState","sendStartSession","sendStartToServer","sendStopSession","sendStopToServer","sendConfigToServer","files","reader","FileReader","processOne","file","singleFile","pop","onload","b64Encoded","result","fileName","name","b64String","onabort","onerror","readAsDataURL","torrentInfoHash","TORRENT_FILE_ADDED","TORRENT_FILE_DELETED","FAILED_TO_ADD_TORRENT_FILE","RESET_TORRENT_FILES_STATE","GLOBAL_SEED_STARTED","GLOBAL_SEED_STOPPED","SEND_START_TO_SERVER","SEND_STOP_TO_SERVER","RESET_CLIENT_STATE","ThemeProvider","props","children","themeType","react_default","a","createElement","core_styles","theme","createMuiTheme","palette","primary","light","main","dark","secondary","typography","useNextVariants","materialUiThemeCreator","CssBaseline_default","state","ThemeProviderComponent","withStyles","icon","fill","_ref","classes","onClickChangeThemeType","IconButton_default","aria-label","onClick","Brightness2Outlined_default","className","size","Brightness2_default","changeThemeType","ThemeModifier","ClientInfo","classNameProps","overallUploadSpeed","isStarted","onClickStart","onClickStop","numberOfQueuedTorrents","stateText","Paper_default","elevation","classnames","container","Typography_default","clientState","align","variant","gutterBottom","Button_default","color","fullWidth","redTextButton","greenTextButton","contained","playPauseButton","PauseCircleFilled_default","leftIcon","PlayCircleFilled_default","Divider_default","style","marginTop","marginBottom","filesize","base","defaultProps","padding","marginRight","spacing","unit","backgroundColor","grey","boxShadow","shadows","&:focusVisible","&:active","&:disabled","action","disabled","disabledBackground","&:hover","@media (hover: none)","red","green","calculateGobalSpeed","speeds","reduce","prevVal","speed","bytesPerSeconds","ClientInfoContainer","announcersIds","api","announcers","map","an","infoHash","torrentFiles","filter","tf","includes","ClientInfoComponent","AbsoluteOverlayFetchingIndicator","containerStyle","active","rest","objectWithoutProperties","CircularProgress_default","assign","width","height","position","top","bottom","left","right","zIndex","display","alignItems","justifyContent","UiConfigChanger","possibleConstructorReturn","getPrototypeOf","call","isModalVisible","hostErr","portErr","pathPrefixErr","secretTokenErr","setState","intPort","isNaN","objectSpread","saveNewConf","_this$state","hasError","_this$state2","_this$props","isConnected","_this$state3","redButton","changeConfigButton","Dialog_default","open","onClose","discardChangesAndClose","aria-labelledby","scroll","DialogTitle_default","id","DialogContent_default","FormControl_default","formControl","aria-describedby","InputLabel_default","htmlFor","Input_default","placeholder","value","onChange","e","handleHostChange","target","FormHelperText_default","handlePortChange","handlePathPrefixChange","handleSecretTokenChange","DialogActions_default","label","Component","getContrastText","margin","stomp","saveGUIConfig","PeerStats","leechers","seeders","leechersText","seedersText","Tooltip_default","title","placement","data-for","data-tip","aria-hidden","Peers","DeterminateProgressBar","normaliseInfoHash","btoa","normaliseProgressPercent","maximum","cancelTimer","bind","assertThisInitialized","completed","startAt","maxValue","timer","setInterval","_this2$state","newValue","nextProps","clearInterval","_this$props2","timeUntilNext","LinearProgress_default","progressBar","dist_default","getContent","UndeterminateProgressBar","SmartAnnounceProgressBar","isFetching","nextAnnounceIn","announceInterval","ProgressBar_UndeterminateProgressBar","currentValue","DeterminateProgresBar","SmartProgressBar","UploadSpeed","speedInBytesPerSeconds","ownProps","foundSpeed","find","Announcer","componentBreakpoint","announcer","onClickDeleteTorrent","lastKnownInterval","lastAnnouncedAt","lastAnnounceDate","Date","deltaBetweenLastAnnounce","now","Math","round","maxAllowedTorrentNameLength","trimedTorrentName","torrentName","root","Grid_default","direction","item","xs","torrentSize","standard","deleteButton","DeleteOutlined_default","Announcer_Peers","peersStats","lastKnownLeechers","lastKnownSeeders","uploadSpeedContainer","Announcer_UploadSpeed","ProgressBar","announceProgressBar","withWidth","paddingTop","paddingLeft","paddingRight","paddingBottom","lineHeight","wordBreak","fontSize","fade","hoverOpacity","SearchBar","searchFilter","onFilterTextChange","InputBase_default","input","iconButton","Search_default","marginLeft","flex","_announcer","announersList","defineProperty","breakpoints","up","down","searchBar","TorrentsTable_SearchBar","onSearchTextChange","key","TorrentsTable_Announcer","filterTorrents","torrents","trim","filterText","toLowerCase","t","TorrentsTableContainer","app","torrentsTable","text","changeSearchFilterText","Announcers","Dashboard","shouldDisplayConfigChangerButton","isConnectedToWebSocket","isClientGlobalStatePending","uploadTorrentFiles","md","lg","components_UiConfigChanger","relative","FetchingIndicator_AbsoluteOverlayFetchingIndicator","components_ClientInfo","TorrentsTable","place","effect","accept","multiple","addButtonInput","Array","from","addButton","component","Add_default","isElectron","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","discardChangesButton","formInput","minWidth","rightSpaced","discardLocalConfigChanges","onSettingsChange","onClickSave","availableClients","isLocalConfigChanged","valueHasChanged","justify","TextField_default","min","minUploadRate","event","parseInt","maxUploadRate","Select_default","MenuItem_default","simultaneousSeed","FormControlLabel_default","control","Checkbox_default","checked","keepTorrentWithZeroLeechers","Settings","localConfig","settings","localConfigHasChanged","SettingsComponent","textAlign","events","Warning_default","viewBox","orange","EventHistoryContainer","EventHistoryComponent","NavigationBar","whichPath","currentPath","onClickDashboard","onClickSettings","onClickLogs","BottomNavigation_default","showLabels","index","BottomNavigationAction_default","Dashboard_default","Settings_default","Sms_default","NavigationBarContainer","router","history","TorrentDropZone","dropzoneActive","accepted","rejected","onDrop","dist_es","disableClick","dropzone","onDragEnter","onDragLeave","overlay","JoalAppBar","AppBar_default","Toolbar_default","grow","theme_modifier_container","flexGrow","menuButton","BaseIcon","xmlns","strokeWidth","strokeLinecap","strokeLinejoin","stroke","InfoIcon","icons_BaseIcon","cx","cy","x1","y1","x2","y2","SuccessIcon","points","ErrorIcon","CloseIcon","AlertTemplate","_alert","alert","borderRadius","fontFamily","textTransform","statusIcon","closeButton","border","cursor","closeIconOverride","options","close","icons_SuccessIcon","icons_InfoIcon","icons_ErrorIcon","icons_CloseIcon","JoalAlertDisplayer","currentNotifs","notifs","currentShouldShowDirtyConfNotif","shouldShowDirtyConfNotif","prevProps","info","remove","oldNotif","findIndex","n","newNotif","showNotification","notification","_this$props3","onMessageClosed","notifCopy","success","_state$alerts","alerts","removeNotification","withAlert","JoalAlertProvider","react_alert","template","offset","isWidthUp","transition","alerts_displayer_component","onFileDrop","navigationBarWrapper","components_TorrentDropZone","components_AppBar","react_router_redux_es","Switch","Route","exact","Historypage","SettingsPage","DashboardPage","components_NavigationBar","Root","es","theme_provider_container","pages_App","createReducer","initialState","handlers","prototype","sortBy","sortOrder","currentPage","torrentsPerPage","TORRENT_SEARCH_FILTER_TEXT_CHANGED","update","$set","_handlers","LOCAL_CONFIG_HAS_CHANGED","DISCARD_LOCAL_CONFIG","API___CONFIG_IS_IN_DIRTY_STATE","API____CONFIG_HAS_BEEN_LOADED","CHANGE_THEME_TYPE","newTheme","torrentFiles_reducer_handlers","$push","client_reducer_handlers","isDirty","errMessage","settings_settings_reducer_handlers","clients","speed_reducer_handlers","SEEDING_SPEED_HAS_CHANGED","RESET_SPEED_STATE","announcers_reducer_handlers","FAILED_TO_ANNOUNCE","SUCCESSFULLY_ANNOUNCE","requestEvent","TOO_MANY_ANNOUNCES_FAILED","WILL_ANNOUNCE","RESET_ANNOUNCER_STATE","isFullyInit","stomp_reducer_handlers","uuidv4","isAppInit","alerts_reducer_handlers","notif","REMOVE_NOTIFICATION","combineReducers","apiTorrentFileReducer","apiClientReducer","apiAnnouncersReducer","apiSettingsReducer","apiSpeedReducer","apiStompReducer","uiConfigReducer","torrentsTableReducer","themeReducer","alertReducer","createHashHistory","routerMiddleware","enhancer","applyMiddleware","thunk","configureStore","createStore","rootReducer","Boolean","match","search","uRLSearchParams","URLSearchParams","credentialsUriEncoded","get","decodeURIComponent","delete","cleanUri","toConsumableArray","hash","replaceState","document","attemptToGetUiConfigFromQuerySearchParam","rootEl","getElementById","require","default","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","confProvider","is_electron__WEBPACK_IMPORTED_MODULE_0__","module","exports"],"mappings":"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","file":"static/js/main.870f779c.chunk.js","sourcesContent":["// @flow\nexport const IS_CONNECTING = '@@api/stompClient/IS_CONNECTING';\nexport const HAS_CONNECTED = '@@api/stompClient/HAS_CONNECTED';\nexport const HAS_FAILED_TO_CONNECT = '@@api/stompClient/HAS_FAILED_TO_CONNECT';\nexport const HAS_DROP_CONNECTION = '@@api/stompClient/HAS_DROP_CONNECTION';\nexport const INIT_OVER = '@@api/stompClient/INIT_OVER';\nexport const RECEIVED_ERROR_MESSAGE = '@@api/stompClient/RECEIVED_ERROR_MESSAGE';\n\nexport const RESET_STOMP_STATE = '@@reset/RESET_STOMP_STATE';\n\n\nexport const isConnecting = () => ({\n  type: IS_CONNECTING\n});\n\nexport const hasConnected = () => ({\n  type: HAS_CONNECTED\n});\n\nexport const hasFailedToConnect = () => ({\n  type: HAS_FAILED_TO_CONNECT\n});\n\nexport const hasDropConnection = () => ({\n  type: HAS_DROP_CONNECTION\n});\n\nexport const initOver = () => ({\n  type: INIT_OVER\n});\n\nexport const hasReceivedError = (message: string) => ({\n  type: RECEIVED_ERROR_MESSAGE,\n  message\n});\n\n\nexport const resetStompState = () => (\n  { type: RESET_STOMP_STATE }\n);\n","/* eslint-disable import/no-unresolved, global-require, import/no-absolute-path */\n// @flow\nimport type { GuiConfig } from './types';\n\nexport const getConfig = () => {\n  const localStorageConf = localStorage.getItem('guiConfig');\n  if (!localStorageConf) {\n    console.log('Returning a mocked config to prevent exception from NullPointer');\n    return {\n      host: window.location.hostname, // this default settings is to prevent Firefox to crash with \"SecurityError: The operation is insecure.\" due to cross origin websocket\n      port: window.location.port || 80, // this default settings is to prevent Firefox to crash with \"SecurityError: The operation is insecure.\" due to cross origin websocket\n      pathPrefix: window.location.pathname.substring(1, window.location.pathname.lastIndexOf('/ui')) || '',\n      secretToken: ''\n    };\n  }\n\n  // We do not cache the config here. When running in electron the config is injected in a way that is subject to race condition.\n  // If we read the value too early, we're going to cache the old config.\n  return JSON.parse(localStorageConf);\n};\n\nexport const saveConfig = (newConfig: GuiConfig) => {\n  localStorage.setItem('guiConfig', JSON.stringify(newConfig));\n};\n","// @flow\nimport type { GuiConfig } from './types';\n\nlet cachedConf: GuiConfig;\n\nexport const getConfig = () => {\n  if (!cachedConf) {\n    const localStorageConf = localStorage.getItem('guiConfig');\n    if (!localStorageConf) {\n      cachedConf = {\n        host: window.location.hostname, // this default settings is to prevent Firefox to crash with \"SecurityError: The operation is insecure.\" due to cross origin websocket\n        port: window.location.port || 80, // this default settings is to prevent Firefox to crash with \"SecurityError: The operation is insecure.\" due to cross origin websocket\n        pathPrefix: '',\n        secretToken: ''\n      };\n    } else {\n      cachedConf = JSON.parse(localStorageConf);\n    }\n  }\n  return cachedConf;\n};\n\nexport const saveConfig = (newConfig: GuiConfig) => {\n  localStorage.setItem('guiConfig', JSON.stringify(newConfig));\n  cachedConf = newConfig;\n};\n","// @flow\nimport type { Config } from './types';\n\nexport const CONFIG_IS_IN_DIRTY_STATE = '@@api/listener/CONFIG_IS_IN_DIRTY_STATE';\nexport const INVALID_CONFIG = '@@api/listener/INVALID_CONFIG';\nexport const CONFIG_HAS_BEEN_LOADED = '@@api/listener/CONFIG_HAS_BEEN_LOADED';\nexport const LIST_OF_CLIENT_FILES = '@@api/listener/LIST_OF_CLIENT_FILES';\n\nexport const SEND_CONFIG = '@@api/send/SEND_CONFIG';\n\nexport const RESET_CONFIG = '@@reset/RESET_CONFIG';\n\nexport const sendConfig = (config: Config) => ({\n  type: SEND_CONFIG,\n  config\n});\n\n\nexport const resetConfig = () => (\n  { type: RESET_CONFIG }\n);\n","// @flow\nimport JoalStompClient from './JoalStompClient';\nimport { resetAnnouncerState } from './announcers/announcers.actions';\nimport { sendStartToServer, sendStopToServer, resetClientState } from './client/client.actions';\nimport { sendConfig, resetConfig } from './settings/settings.actions';\nimport { resetStompState } from './stomp/stomp.actions';\nimport { resetTorrentFilesState } from './torrentFiles/torrentFile.actions';\nimport { resetSpeedState } from './speed/speed.actions';\nimport type { ReduxStore } from './types';\nimport type { Config } from './settings/types';\n\nlet store;\nlet stompClient;\n\nexport const connectStomp = (appStore: ReduxStore) => {\n  store = appStore;\n  stompClient = new JoalStompClient(store, () => {\n    // On disconnect\n\n    store.dispatch(resetStompState());\n    store.dispatch(resetConfig());\n    store.dispatch(resetClientState());\n    store.dispatch(resetAnnouncerState());\n    store.dispatch(resetTorrentFilesState());\n    store.dispatch(resetSpeedState());\n  });\n  stompClient.connect();\n};\n\nexport const disconnectAndReconnect = () => {\n  stompClient.disconnectAndReconnect();\n};\n\n\nexport const sendStartSession = () => {\n  store.dispatch(sendStartToServer());\n  stompClient.send('/joal/global/start');\n};\n\nexport const sendStopSession = () => {\n  store.dispatch(sendStopToServer());\n  stompClient.send('/joal/global/stop');\n};\n\nexport const sendConfigToServer = (config: Config) => {\n  store.dispatch(sendConfig(config));\n  stompClient.send('/joal/config/save', JSON.stringify(config));\n};\n\ntype File = {\n  lastModified: number,\n  name: string,\n  size: number,\n  type: string\n};\nexport const uploadTorrents = (files: Array<File>) => {\n  const reader = new FileReader();\n  console.log(files);\n\n  // Process files one by one (queue like) to reduce memory consuption when sender a lot of torrent files.\n  const processOne = () => {\n    const singleFile = files.pop();\n    if (singleFile === undefined) {\n      return;\n    }\n\n    ((file) => {\n      reader.onload = () => {\n        const b64Encoded = reader.result.replace(/data:.+?,/, '');\n        stompClient.send('/joal/torrents/upload', JSON.stringify({\n          fileName: file.name,\n          b64String: b64Encoded\n        }));\n        setTimeout(processOne, 1300);\n      };\n      reader.onabort = () => console.log(`file reading was aborted for [${file.name}]`);\n      reader.onerror = () => console.log(`file reading has failed for [${file.name}]`);\n\n      reader.readAsDataURL(file);\n    })(singleFile);\n  };\n\n  processOne();\n};\n\nexport const deleteTorrent = (torrentInfoHash: string) => {\n  stompClient.send('/joal/torrents/delete', torrentInfoHash);\n};\n","// @flow\nimport Webstomp from 'webstomp-client';\nimport { getGUIConfig } from '../../utils/ConfigProvider';\nimport {\n  isConnecting,\n  hasConnected,\n  hasDropConnection,\n  hasFailedToConnect,\n  initOver,\n  hasReceivedError\n} from './stomp/stomp.actions';\nimport type { ReduxStore, StompMessage } from './types';\n\nconst uuidv4 = () => (\n  ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c => (// eslint-disable-line space-infix-ops\r\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16) // eslint-disable-line implicit-arrow-linebreak, no-bitwise, no-mixed-operators\n  ))\n);\n\ntype Frame = {\n  command: string;\n  headers: {};\n  body: {} | string;\n}\n\nexport default class JoalStompClient {\n  constructor(reduxStore: ReduxStore, onDisconnectCallback: () => void) {\n    this.reconnectTimeout = undefined;\n    this.reduxStore = reduxStore;\n    this.onDisconnectCallback = onDisconnectCallback;\n    this.subscriptions = [];\n    this.stompClient = {};\n  }\n\n  send(path: string, body: string = '', headers: {} = {}) {\n    if (!this.stompClient || !this.stompClient.connected) {\n      console.error('You can not send message to JOAL when not connected through WebSocket.');\n      return;\n    }\n    this.stompClient.send(\n      path,\n      body,\n      headers\n    );\n  }\n\n  connect() {\n    const guiConf = getGUIConfig();\n    const urlScheme = (window.location.protocol === 'https:' ? 'wss' : 'ws');\n    const url = `${urlScheme}://${guiConf.host}:${guiConf.port}/${guiConf.pathPrefix}`;\n    const { secretToken } = guiConf;\n    this._dispatchOnConnect(); // eslint-disable-line no-underscore-dangle\n    this.stompClient = Webstomp.client(url, { debug: false, protocols: ['v12.stomp', 'v11.stomp'] });\n\n    this.stompClient.connect({ 'X-Joal-Auth-Token': secretToken, 'X-Joal-Username': uuidv4() }, (/* response */) => {\n      this._dispatchHasConnected(); // eslint-disable-line no-underscore-dangle\n      /* specific mapping that intentionally include the /joal prefix */\n      this.stompClient.subscribe('/joal/initialize-me', (message) => {\n        JSON.parse(message.body).forEach(msg => {\n          this.onReceiveMessage(msg);\n        });\n        // We consider that the app is inited when the replayable events has been played.\n        this._dispatchIsReady(); // eslint-disable-line no-underscore-dangle\n        message.ack();\n        this.stompClient.unsubscribe('/initialize-me');\n      });\n\n      ['/global', '/announce', '/config', '/torrents', '/speed'].forEach(subscribesPath => {\n        const subscribtion = this.stompClient.subscribe(subscribesPath, (message) => {\n          message.ack();\n          this.onReceiveMessage(JSON.parse(message.body));\n        }, { ack: 'client' });\n        this.subscriptions.push(subscribtion);\n      });\n    }, (error: CloseEvent | Frame) => {\n      console.log('error message from websocket', error);\n\n      if (error instanceof CloseEvent) {\n        // if we had some subscriptions this is a connection drop.\n        const isConnectionDropped = this.subscriptions.length > 0;\n\n        if (isConnectionDropped) {\n          this._dispatchHasDropConnection(); // eslint-disable-line no-underscore-dangle\n        } else {\n          this._dispatchHasFailedToConnect(); // eslint-disable-line no-underscore-dangle\n        }\n        if (this.onDisconnectCallback) this.onDisconnectCallback();\n        this._reconnectAfterTimeout(8000); // eslint-disable-line no-underscore-dangle\n      } else {\n        this.reduxStore.dispatch(hasReceivedError(error.headers.message));\n      }\n    });\n  }\n\n  _dispatchIsReady() {\n    this.reduxStore.dispatch(initOver());\n  }\n\n  _dispatchOnConnect() {\n    this.reduxStore.dispatch(isConnecting());\n  }\n\n  _dispatchHasConnected() {\n    this.reduxStore.dispatch(hasConnected());\n  }\n\n  _dispatchHasDropConnection() {\n    this.reduxStore.dispatch(hasDropConnection());\n  }\n\n  _dispatchHasFailedToConnect() {\n    this.reduxStore.dispatch(hasFailedToConnect());\n  }\n\n  onReceiveMessage(message: StompMessage) {\n    const { type, payload } = message;\n    this.reduxStore.dispatch({ type: `@@api/listener/${type}`, payload });\n  }\n\n  _reconnectAfterTimeout(timeout: number) {\n    this.subscriptions.forEach(sub => sub.unsubscribe()); // release resources\n    this.subscriptions = [];\n    // the reconnectTimeout = undefined will ensure we don't cause memory leak.\n    if (this.reconnectTimeout === undefined) {\n      this.reconnectTimeout = setTimeout(() => {\n        this.connect();\n        this.reconnectTimeout = undefined;\n      }, timeout);\n    }\n  }\n\n  disconnect() {\n    this.subscriptions.forEach(sub => sub.unsubscribe()); // release resources\n    this.subscriptions = [];\n    if (this.stompClient && this.stompClient.connected) {\n      this.stompClient.disconnect();\n    }\n    if (this.onDisconnectCallback) this.onDisconnectCallback();\n  }\n\n  disconnectAndReconnect() {\n    clearTimeout(this.reconnectTimeout);\n    this.reconnectTimeout = undefined;\n    this.disconnect();\n    this.connect();\n  }\n}\n","// @flow\n\nexport const TORRENT_FILE_ADDED = '@@api/listener/TORRENT_FILE_ADDED';\nexport const TORRENT_FILE_DELETED = '@@api/listener/TORRENT_FILE_DELETED';\nexport const FAILED_TO_ADD_TORRENT_FILE = '@@api/listener/FAILED_TO_ADD_TORRENT_FILE';\n\nexport const RESET_TORRENT_FILES_STATE = '@@reset/RESET_TORRENT_FILES_STATE';\n\n\nexport const resetTorrentFilesState = () => (\n  { type: RESET_TORRENT_FILES_STATE }\n);\n","// @flow\nexport const GLOBAL_SEED_STARTED = '@@api/listener/GLOBAL_SEED_STARTED';\nexport const GLOBAL_SEED_STOPPED = '@@api/listener/GLOBAL_SEED_STOPPED';\n\nexport const SEND_START_TO_SERVER = '@@api/send/SEND_START_TO_SERVER';\nexport const SEND_STOP_TO_SERVER = '@@api/send/SEND_STOP_TO_SERVER';\n\nexport const RESET_CLIENT_STATE = '@@reset/RESET_CLIENT_STATE';\n\n\nexport function sendStartToServer() {\n  return {\n    type: SEND_START_TO_SERVER\n  };\n}\n\nexport function sendStopToServer() {\n  return {\n    type: SEND_STOP_TO_SERVER,\n  };\n}\n\n\nexport const resetClientState = () => (\n  { type: RESET_CLIENT_STATE }\n);\n","// @flow\r\nimport React from 'react';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport primary from '@material-ui/core/colors/blue';\r\nimport secondary from '@material-ui/core/colors/lightGreen';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\n\r\nconst materialUiThemeCreator = (themeType: 'light' | 'dark') => createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: primary[300],\r\n      main: primary[500],\r\n      dark: primary[700],\r\n    },\r\n    secondary: {\r\n      light: secondary[300],\r\n      main: secondary[500],\r\n      dark: secondary[700],\n    },\r\n    type: themeType\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\n\r\ntype Props = {\r\n  children: {},\r\n  themeType: 'light' | 'dark'\r\n};\r\n\r\nconst ThemeProvider = (props: Props) => {\r\n  const { children, themeType } = props;\r\n  return (\r\n    <MuiThemeProvider theme={materialUiThemeCreator(themeType)}>\r\n      {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n      <CssBaseline />\r\n      {children}\r\n    </MuiThemeProvider>\r\n  );\r\n};\r\n\r\nexport default ThemeProvider;\r\n","import { connect } from 'react-redux';\nimport ThemeProviderComponent from './theme-provider.component';\n\n\nfunction mapStateToProps(state) {\n  return {\n    themeType: state.theme.palette.type\n  };\n}\n\nexport default connect(mapStateToProps)(ThemeProviderComponent);\n","// @flow\nimport React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport LightModeOnIcon from '@material-ui/icons/Brightness2Outlined';\nimport DarkModeOnIcon from '@material-ui/icons/Brightness2';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = () => ({\n  icon: {\n    fill: '#FFF'\n  }\n});\n\ntype Props = {\n  classes: {},\n  palette: {},\n  onClickChangeThemeType: () => void\n}\n\nconst ThemeModifier = ({ classes, palette, onClickChangeThemeType }: Props) => (\n  <div>\n    <IconButton aria-label=\"Switch theme type\" onClick={onClickChangeThemeType}>\n      {palette.type === 'light'\n        ? <LightModeOnIcon className={classes.icon} size=\"medium\" />\n        : <DarkModeOnIcon className={classes.icon} size=\"medium\" />\n      }\n    </IconButton>\n  </div>\n);\n\nexport default withStyles(styles)(ThemeModifier);\n","import { connect } from 'react-redux';\nimport ThemeModifier from './theme-modifier.component';\nimport { changeThemeType } from './theme-modifier.actions';\n\nconst mapStateToProps = (state) => ({\n  palette: state.theme.palette\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onClickChangeThemeType: () => dispatch(changeThemeType()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ThemeModifier);\n","// @flow\nimport React from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport PlayIcon from '@material-ui/icons/PlayCircleFilled';\nimport PauseIcon from '@material-ui/icons/PauseCircleFilled';\nimport Typography from '@material-ui/core/Typography';\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport filesize from 'filesize';\nimport classnames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  container: {\n    padding: 15\n  },\n  leftIcon: {\n    marginRight: theme.spacing.unit,\n  },\n  playPauseButton: {\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[700] : theme.palette.grey[100],\n    boxShadow: theme.shadows[2],\n    '&:focusVisible': {\n      boxShadow: theme.shadows[6],\n    },\n    '&:active': {\n      boxShadow: theme.shadows[8],\n    },\n    '&:disabled': {\n      color: theme.palette.action.disabled,\n      boxShadow: theme.shadows[0],\n      backgroundColor: theme.palette.action.disabledBackground,\n    },\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[800] : theme.palette.grey[300],\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[700] : theme.palette.grey[300],\n      },\n      '&:disabled': {\n        backgroundColor: theme.palette.action.disabledBackground,\n      },\n    },\n  },\n  redTextButton: {\n    color: red[400]\n  },\n  greenTextButton: {\n    color: green[400]\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string,\n  client: string,\n  overallUploadSpeed: number,\n  isStarted: boolean,\n  numberOfQueuedTorrents: number,\n  onClickStart: () => void,\n  onClickStop: () => void\n};\n\nconst ClientInfo = (props: Props) => {\n  const {\n    className: classNameProps,\n    classes, client, overallUploadSpeed, isStarted, onClickStart, onClickStop, numberOfQueuedTorrents\n  } = props;\n  const stateText = isStarted ? 'Running' : 'Paused';\n\n  return (\n    <Paper elevation={2} className={classnames(classes.container, classNameProps)}>\n      <Typography className={classes.clientState} align=\"center\" variant=\"h5\" gutterBottom>\n        {stateText}\n      </Typography>\n      <Button\n        color=\"primary\"\n        fullWidth\n        variant=\"contained\"\n        className={isStarted ? classes.redTextButton : classes.greenTextButton}\n        classes={{ contained: classes.playPauseButton }}\n        onClick={isStarted ? onClickStop : onClickStart}\n      >\n        {isStarted ? <PauseIcon className={classes.leftIcon} /> : <PlayIcon className={classes.leftIcon} />}\n        {isStarted ? 'stop' : 'start'}\n      </Button>\n\n      <Divider style={{ marginTop: 20, marginBottom: 10 }} />\n      <Typography align=\"center\" variant=\"body2\" gutterBottom>\n        <b>{client}</b>\n      </Typography>\n      <Typography align=\"left\" variant=\"body2\" gutterBottom>\n        {`Overall speed :  ${filesize(overallUploadSpeed, { base: 10 })}/s`}\n      </Typography>\n      <Typography align=\"left\" variant=\"body2\" gutterBottom>\n        {`Torrents in queue :  ${numberOfQueuedTorrents}`}\n      </Typography>\n    </Paper>\n  );\n};\nClientInfo.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(ClientInfo);\n","// @flow\nimport { connect } from 'react-redux';\nimport ClientInfoComponent from './clientInfo.component';\nimport { sendStartSession, sendStopSession } from '../../modules/joal-api';\nimport type { StateType } from '../../types';\n\nconst calculateGobalSpeed = (speeds) => {\n  if (speeds.length === 0) {\n    return 0;\n  }\n  return speeds.reduce((prevVal, speed) => (\n    prevVal + speed.bytesPerSeconds\n  ), 0);\n};\n\nfunction mapStateToProps(state: StateType) {\n  // TODO : performance issue\n  const announcersIds = state.api.announcers.map(an => an.infoHash);\n  return {\n    client: state.api.client.name,\n    overallUploadSpeed: calculateGobalSpeed(state.api.speed),\n    isStarted: state.api.client.isStarted,\n    numberOfQueuedTorrents: state.api.torrentFiles.filter(tf => !announcersIds.includes(tf.infoHash)).length,\n    onClickStart: () => sendStartSession(),\n    onClickStop: () => sendStopSession()\n  };\n}\n\nexport default connect(mapStateToProps)(ClientInfoComponent);\n","// @flow\nimport ClientInfoContainer from './clientInfo.container';\n\nexport default ClientInfoContainer;\n","// @flow\nimport React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = () => ({\n  container: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(200, 200, 200, 0.63)',\n    zIndex: 1200,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\ntype Props = {\n  classes: {},\n  style?: {},\n  containerStyle?: {},\n  active: boolean\n};\n\nconst AbsoluteOverlayFetchingIndicator = (props: Props) => {\n  const {\n    classes, style, containerStyle, active, ...rest\n  } = props;\n  if (!active) {\n    return (<div style={{ width: 0, height: 0, position: 'absolute' }} />);\n  }\n  return (\n    <div className={classes.container} style={containerStyle}>\n      {active && <CircularProgress {...rest} style={style} />}\n    </div>\n  );\n};\nAbsoluteOverlayFetchingIndicator.defaultProps = {\n  style: {},\n  containerStyle: {}\n};\n\nexport default withStyles(styles)(AbsoluteOverlayFetchingIndicator);\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withStyles } from '@material-ui/core/styles';\n// import classnames from 'classnames';\nimport type { GuiConfig } from '../../utils/ConfigProvider/types';\n\nconst styles = theme => ({\n  changeConfigButton: {\n    backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[700] : theme.palette.grey[100],\n    boxShadow: theme.shadows[2],\n    '&:focusVisible': {\n      boxShadow: theme.shadows[6],\n    },\n    '&:active': {\n      boxShadow: theme.shadows[8],\n    },\n    '&:disabled': {\n      color: theme.palette.action.disabled,\n      boxShadow: theme.shadows[0],\n      backgroundColor: theme.palette.action.disabledBackground,\n    },\n    '&:hover': {\n      backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[800] : theme.palette.grey[300],\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[700] : theme.palette.grey[300],\n      },\n      '&:disabled': {\n        backgroundColor: theme.palette.action.disabledBackground,\n      },\n    },\n  },\n  redButton: {\n    color: theme.palette.getContrastText(theme.palette.error.main),\n    backgroundColor: theme.palette.error.main,\n    '&:hover': {\n      backgroundColor: theme.palette.error.dark\n    }\n  },\n  formControl: {\n    margin: theme.spacing.unit\n  }\n});\n\nclass UiConfigChanger extends Component {\n  props: {\n    classes: {},\n    isConnected: boolean,\n    config: GuiConfig,\n    saveNewConf: (config: GuiConfig) => void,\n    style?: {}\n  };\n\n  static defaultProps = {\n    style: {}\n  }\n\n  constructor(props) {\n    super(props);\n    const { config } = props;\n\n    this.state = {\n      isModalVisible: false,\n      host: config.host,\n      port: config.port,\n      pathPrefix: config.pathPrefix,\n      secretToken: config.secretToken,\n      hostErr: config.host !== '' ? '' : 'Required field',\n      portErr: config.port !== '' ? '' : 'Required field',\n      pathPrefixErr: config.pathPrefix !== '' ? '' : 'Required field',\n      secretTokenErr: config.secretToken !== '' ? '' : 'Required field',\n    };\n  }\n\n  handleHostChange(host: string) {\n    const hostErr = host === '' ? 'Required field' : '';\n    this.setState({ host, hostErr });\n  }\n\n  handlePortChange(port: string) {\n    let portErr = '';\n    const intPort = port - 0;\n    if (isNaN(intPort)) { // eslint-disable-line no-restricted-globals\n      portErr = 'You mad bro !';\n    } else {\n      if (intPort === 0) portErr = 'Port is required';\n      if (intPort > 65535) portErr = 'A port that big, seriously ?';\n    }\n    this.setState({ port, portErr });\n  }\n\n  handlePathPrefixChange(pathPrefix: string) {\n    const pathPrefixErr = pathPrefix === '' ? 'Required field' : '';\n    this.setState({ pathPrefix, pathPrefixErr });\n  }\n\n  handleSecretTokenChange(secretToken: string) {\n    const secretTokenErr = secretToken === '' ? 'Required field' : '';\n    this.setState({ secretToken, secretTokenErr });\n  }\n\n  discardChangesAndClose() {\n    const { config } = this.props;\n    this.setState({ ...(config), isModalVisible: false });\n  }\n\n  saveConfig() {\n    const { saveNewConf } = this.props;\n    const {\n      host, port, pathPrefix, secretToken\n    } = this.state;\n\n    if (this.hasError()) {\n      return;\n    }\n\n    saveNewConf({\n      host, port, pathPrefix, secretToken\n    });\n    this.setState({ isModalVisible: false });\n  }\n\n  hasError() {\n    const {\n      host, port, pathPrefix, secretToken, hostErr, portErr, pathPrefixErr, secretTokenErr\n    } = this.state;\n\n    if (!host || !port || !pathPrefix || !secretToken) {\n      return true;\n    }\n    if (hostErr || portErr || pathPrefixErr || secretTokenErr) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { classes, isConnected, style } = this.props;\n    const {\n      isModalVisible,\n      host, port, pathPrefix, secretToken,\n      hostErr, portErr, pathPrefixErr, secretTokenErr\n    } = this.state;\n    return (\n      <div style={style}>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          onClick={() => this.setState({ isModalVisible: true })}\n          className={isConnected ? '' : classes.redButton}\n          classes={{ contained: classes.changeConfigButton }}\n        >\n          Change connection settings\n        </Button>\n        <Dialog\n          open={isModalVisible}\n          onClose={() => this.discardChangesAndClose()}\n          aria-labelledby=\"form-dialog-connection-settings\"\n          scroll=\"paper\"\n        >\n          <DialogTitle id=\"form-dialog-connection-settings\">Connection settings</DialogTitle>\n          <DialogContent>\n            <FormControl\n              className={classes.formControl}\n              error={hostErr.length > 0}\n              aria-describedby=\"server-address-text\"\n            >\n              <InputLabel htmlFor=\"server-address\">Server address</InputLabel>\n              <Input id=\"server-address\" placeholder=\"host\" value={host} onChange={(e) => this.handleHostChange(e.target.value)} />\n              <FormHelperText id=\"server-address-text\">{hostErr}</FormHelperText>\n            </FormControl>\n            <FormControl\n              className={classes.formControl}\n              error={hostErr.length > 0}\n              aria-describedby=\"server-port-text\"\n            >\n              <InputLabel htmlFor=\"server-port\">Server port</InputLabel>\n              <Input id=\"server-port\" placeholder=\"port\" type=\"number\" value={port} onChange={(e) => this.handlePortChange(e.target.value)} />\n              <FormHelperText id=\"server-port-text\">{portErr}</FormHelperText>\n            </FormControl>\n            <FormControl\n              className={classes.formControl}\n              error={hostErr.length > 0}\n              aria-describedby=\"path-prefix-text\"\n            >\n              <InputLabel htmlFor=\"path-prefix\">Path prefix</InputLabel>\n              <Input id=\"path-prefix\" placeholder=\"Obfuscation path prefix\" value={pathPrefix} onChange={(e) => this.handlePathPrefixChange(e.target.value)} />\n              <FormHelperText id=\"path-prefix-text\">{pathPrefixErr}</FormHelperText>\n            </FormControl>\n            <FormControl\n              className={classes.formControl}\n              error={hostErr.length > 0}\n              aria-describedby=\"secret-token-text\"\n            >\n              <InputLabel htmlFor=\"secret-token\">Secret token</InputLabel>\n              <Input id=\"secret-token\" placeholder=\"Your secret token\" value={secretToken} onChange={(e) => this.handleSecretTokenChange(e.target.value)} />\n              <FormHelperText id=\"secret-token-text\">{secretTokenErr}</FormHelperText>\n            </FormControl>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              label=\"Cancel\"\n              onClick={() => this.discardChangesAndClose()}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={this.hasError()}\n              onClick={() => this.saveConfig()}\n            >\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(UiConfigChanger);\n","// @flow\nimport { connect } from 'react-redux';\nimport UiConfigChanger from './uiConfigChanger.component';\nimport { getGUIConfig, saveGUIConfig } from '../../utils/ConfigProvider';\nimport { disconnectAndReconnect } from '../../modules/joal-api';\nimport type { GuiConfig } from '../../utils/ConfigProvider/types';\n\nfunction mapStateToProps(state) {\n  return {\n    isConnected: state.api.stomp.isConnected,\n    config: getGUIConfig(),\n    saveNewConf: (config: GuiConfig) => {\n      saveGUIConfig(config);\n      disconnectAndReconnect();\n    }\n  };\n}\n\nexport default connect(mapStateToProps)(UiConfigChanger);\n","// @flow\nimport UiConfigChanger from './uiConfigChanger.container';\n\nexport default UiConfigChanger;\n","// @flow\r\nimport React from 'react';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = (theme) => ({\r\n  leechers: {\r\n    color: theme.palette.primary.light,\r\n    marginRight: 12\r\n  },\r\n  seeders: {\r\n    color: theme.palette.primary.light\r\n  }\r\n});\r\n\r\ntype Props = {\r\n  classes: {},\r\n  className?: string,\r\n  leechers?: number,\r\n  seeders?: ?number\r\n};\r\n\r\nconst PeerStats = (props: Props) => {\r\n  const {\r\n    className: classNameProps, classes, leechers, seeders\r\n  } = props;\r\n  const leechersText = (leechers === null || leechers === undefined) ? '?' : leechers;\r\n  const seedersText = (seeders === null || seeders === undefined) ? '?' : seeders;\r\n\r\n  return (\r\n    <div className={classNameProps}>\r\n      <div>\r\n        <Tooltip title=\"leechers\" aria-label=\"leechers\" placement=\"top\">\r\n          <span className={classes.leechers} data-for=\"leechers\" data-tip=\"Leechers\">\r\n            <i className=\"fa fa-cloud-download\" aria-hidden=\"true\" />\r\n            {` ${leechersText}`}\r\n          </span>\r\n        </Tooltip>\r\n        <Tooltip title=\"leechers\" aria-label=\"seeders\" placement=\"top\">\r\n          <span className={classes.seeders} data-for=\"seeders\" data-tip=\"Seeders\">\r\n            <i className=\"fa fa-cloud-upload\" aria-hidden=\"true\" />\r\n            {` ${seedersText}`}\r\n          </span>\r\n        </Tooltip>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nPeerStats.defaultProps = {\r\n  className: '',\r\n  leechers: undefined,\r\n  seeders: undefined\r\n};\r\n\r\nexport default withStyles(styles)(PeerStats);\r\n","// @flow\nimport Peers from './Peers';\n\nexport default Peers;\n","// @flow\nimport React, { Component } from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ReactTooltip from 'react-tooltip';\nimport { withStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\n\nconst styles = () => ({\n  progressBar: {\n  }\n});\n\ntype AnnounceProgressBarProps = {\n  classes: {},\n  className?: string,\n  color: 'primary' | 'secondary',\n  infoHash: string,\n  startAt: number,\n  maxValue: number\n};\n\nclass DeterminateProgressBar extends Component {\n  props: AnnounceProgressBarProps;\n\n  state: {\n    completed: number,\n    maxValue: number\n  };\n\n  timer: number\n\n  constructor(props) {\n    super(props);\n    this.cancelTimer = this.cancelTimer.bind(this);\n\n    this.state = {\n      completed: props.startAt,\n      maxValue: props.maxValue\n    };\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      const { maxValue, completed } = this.state;\n      const newValue = completed + 1;\n      if (newValue > maxValue) {\n        this.setState({ completed: maxValue });\n        this.cancelTimer();\n      } else {\n        this.setState({ completed: newValue });\n      }\n    }, 1000);\n  }\n\n  // TODO : update to static getDerivedStateFromProps(nextProps, prevState) after migrating to react 17\n  componentWillReceiveProps(nextProps) {\n    const { startAt, maxValue } = this.props;\n    // Since we sync state to props.startAt, state wont be up-to-date with any props update. (see https://reactjs.org/docs/react-component.html#constructor)\n    // We need to update the state ourselves when props are updated\n    if (nextProps.startAt !== startAt || nextProps.maxValue !== maxValue) {\n      this.setState({\n        completed: nextProps.startAt,\n        maxValue: nextProps.maxValue\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.cancelTimer();\n  }\n\n  cancelTimer() {\n    clearInterval(this.timer);\n  }\n\n  // The ReactTooltip does not support some special character, we need to create an infoHash with normal chars only\n  normaliseInfoHash = (infoHash: string) => btoa(infoHash);\n\n  normaliseProgressPercent = (value, maximum) => (value) * 100 / maximum;\n\n  render() {\n    const {\n      className: classNameProps, classes, infoHash, color\n    } = this.props;\n    const { maxValue, completed } = this.state;\n    const timeUntilNext = maxValue - completed;\n    return (\n      <div>\n        <LinearProgress\n          color={color}\n          className={classnames(classes.progressBar, classNameProps)}\n          variant=\"determinate\"\n          data-tip={`Updating tracker stats in ${timeUntilNext}s`}\n          data-for={`nextUpdate${this.normaliseInfoHash(infoHash)}`}\n          value={this.normaliseProgressPercent(completed, maxValue)}\n        />\n        {/*\n          TODO: Check that this line does not register a new ReactTooltip every\n          second. Because the component is updated by his own state every second as well\n        */}\n        <ReactTooltip id={`nextUpdate${this.normaliseInfoHash(infoHash)}`} getContent={[() => `Updating tracker stats in ${timeUntilNext}s`, 1000]} />\n      </div>\n    );\n  }\n}\nDeterminateProgressBar.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(DeterminateProgressBar);\n","// @flow\nimport React from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { withStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\n\nconst styles = () => ({\n  progressBar: {\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string,\n  color: 'primary' | 'secondary'\n}\n\nconst UndeterminateProgressBar = ({ classes, className: classNameProps, color }: Props) => (\n  <LinearProgress color={color} className={classnames(classes.progressBar, classNameProps)} />\n);\nUndeterminateProgressBar.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(UndeterminateProgressBar);\n","// @flow\nimport React from 'react';\nimport DeterminateProgresBar from './DeterminateProgresBar';\nimport UndeterminateProgressBar from './UndeterminateProgressBar';\n\ntype SmartAnnounceProps = {\n  className?: string,\n  color?: 'primary' | 'secondary',\n  infoHash: string,\n  isFetching: boolean,\n  nextAnnounceIn?: number,\n  announceInterval?: number\n};\n\nconst SmartAnnounceProgressBar = (props: SmartAnnounceProps) => {\n  const {\n    className, color, isFetching, nextAnnounceIn, announceInterval, infoHash\n  } = props;\n\n  if (isFetching) {\n    return (<UndeterminateProgressBar color={color} className={className} />);\n  }\n\n  const currentValue = announceInterval - nextAnnounceIn;\n  const maxValue = announceInterval;\n  return (\n    <DeterminateProgresBar\n      className={className}\n      color={color}\n      infoHash={infoHash}\n      startAt={currentValue}\n      maxValue={maxValue}\n    />\n  );\n};\nSmartAnnounceProgressBar.defaultProps = {\n  className: '',\n  color: 'primary',\n  nextAnnounceIn: undefined,\n  announceInterval: undefined\n};\n\nexport default SmartAnnounceProgressBar;\n","// @flow\nimport SmartProgressBar from './SmartProgressBar';\n\nexport default SmartProgressBar;\n","// @flow\nimport React from 'react';\nimport filesize from 'filesize';\nimport Typography from '@material-ui/core/Typography';\n\ntype Props = {\n  className?: string,\n  speedInBytesPerSeconds: ?number\n};\n\nconst UploadSpeed = (props: Props) => {\n  const { className: classNameProps, speedInBytesPerSeconds } = props;\n\n  return (\n    <Typography variant=\"caption\" className={classNameProps}>\n      {speedInBytesPerSeconds === undefined ? '? B/s' : `${filesize(speedInBytesPerSeconds, { base: 10 })}/s`}\n    </Typography>\n  );\n};\nUploadSpeed.defaultProps = {\n  className: ''\n};\n\nexport default UploadSpeed;\n","// @flow\nimport { connect } from 'react-redux';\nimport UploadSpeed from './uploadSpeed.component';\nimport type { StateType } from '../../../../types';\n\n\nfunction mapStateToProps(state: StateType, ownProps: { infoHash: string }) {\n  const foundSpeed = state.api.speed.find(speed => speed.infoHash === ownProps.infoHash);\n\n  return {\n    speedInBytesPerSeconds: foundSpeed === null || foundSpeed === undefined ? undefined : foundSpeed.bytesPerSeconds\n  };\n}\n\nfunction mapDispatchToProps() {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadSpeed);\n","// @flow\nimport UploadSpeed from './uploadSpeed.container';\n\nexport default UploadSpeed;\n","// @flow\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/DeleteOutlined';\nimport { withStyles } from '@material-ui/core/styles';\nimport withWidth from '@material-ui/core/withWidth';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport filesize from 'filesize';\nimport classnames from 'classnames';\nimport PeerStats from './Peers';\nimport AnnounceProgressBar from './ProgressBar';\n// import UploadIcon from './UploadIcon';\nimport UploadSpeed from './UploadSpeed';\nimport type { Announcer as AnnouncerType } from '../types';\n\nconst styles = theme => ({\n  root: {\n    paddingTop: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 2,\n    paddingRight: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit / 2\n  },\n  title: {\n    marginTop: 3,\n    lineHeight: 1.2,\n    wordBreak: 'break-word'\n  },\n  uploadSpeedContainer: {\n    bottom: 5,\n    fontSize: 18,\n    position: 'absolute',\n    right: theme.spacing.unit * 2\n  },\n  peersStats: {\n    fontSize: 14\n  },\n  deleteButton: {\n    color: theme.palette.error.main,\n    '&:hover': {\n      backgroundColor: fade(theme.palette.error.main, theme.palette.action.hoverOpacity)\n    },\n    position: 'absolute',\n    right: 2,\n    top: 2,\n    padding: 0,\n    height: 35,\n    width: 42\n  },\n  announceProgressBar: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 4\n  }\n});\n\ntype Props = {\n  classes: {},\n  width: 'lg' | 'md' | 'sm' | 'xs',\n  className?: string,\n  announcer: AnnouncerType,\n  onClickDeleteTorrent: (infoHash: string) => void\n};\n\nconst Announcer = (props: Props) => {\n  const {\n    width: componentBreakpoint, className: classNameProps, classes, announcer, onClickDeleteTorrent\n  } = props;\n  let nextAnnounceIn = announcer.lastKnownInterval;\n  if (announcer.lastAnnouncedAt !== undefined) {\n    const lastAnnounceDate = Date.parse(announcer.lastAnnouncedAt);\n    const deltaBetweenLastAnnounce = (Date.now() - lastAnnounceDate) / 1000;\n    nextAnnounceIn = Math.round(announcer.lastKnownInterval - deltaBetweenLastAnnounce);\n  }\n\n  const maxAllowedTorrentNameLength = (componentBreakpoint === 'xs' || componentBreakpoint === 'sm') ? 70 : 175;\n  let trimedTorrentName = announcer.torrentName;\n  if (announcer.torrentName.length > maxAllowedTorrentNameLength) {\n    trimedTorrentName = `${announcer.torrentName.substring(0, maxAllowedTorrentNameLength)}...`;\n  }\n\n  return (\n    <Paper elevation={2} style={{ position: 'relative' }} className={classnames(classes.root, classNameProps)}>\n      <Grid container direction=\"row\">\n        <Grid item xs>\n          <Typography\n            className={classes.title}\n            variant=\"body2\"\n            gutterBottom\n          >\n            {`${trimedTorrentName} (${filesize(announcer.torrentSize, { standard: 'iec' })})`}\n          </Typography>\n        </Grid>\n        <Grid item style={{ width: 42 }}>\n          <Tooltip title=\"Delete this torrent\" placement=\"left\">\n            <IconButton\n              className={classes.deleteButton}\n              aria-label=\"Delete\"\n              onClick={() => onClickDeleteTorrent(announcer.infoHash)}\n            >\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        </Grid>\n      </Grid>\n      <Grid container direction=\"row\">\n        <Grid item xs>\n          <PeerStats\n            className={classes.peersStats}\n            leechers={announcer.lastKnownLeechers}\n            seeders={announcer.lastKnownSeeders}\n          />\n        </Grid>\n        <Grid item xs>\n          <div className={classes.uploadSpeedContainer}>\n            <UploadSpeed\n              infoHash={announcer.infoHash}\n            />\n          </div>\n        </Grid>\n      </Grid>\n\n      <AnnounceProgressBar\n        color=\"primary\"\n        className={classes.announceProgressBar}\n        infoHash={announcer.infoHash}\n        isFetching={announcer.isFetching}\n        announceInterval={announcer.lastKnownInterval}\n        nextAnnounceIn={nextAnnounceIn}\n      />\n    </Paper>\n  );\n};\nAnnouncer.defaultProps = {\n  className: ''\n};\n\nexport default withWidth()(withStyles(styles)(Announcer));\n","// @flow\nimport Announcer from './Announcer';\n\nexport default Announcer;\n","// @flow\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\nimport classnames from 'classnames';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    padding: '2px 4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: 400,\n  },\r\n  input: {\r\n    marginLeft: 8,\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  }\r\n});\r\n\r\ntype Props = {\r\n  classes: {},\n  className?: {},\r\n  searchFilter?: string,\r\n  onFilterTextChange: (text: string) => void\r\n};\r\n\r\nconst SearchBar = ({\n  classes, className, searchFilter, onFilterTextChange\n}: Props) => (\r\n  <Paper className={classnames(classes.root, className)} elevation={1}>\r\n    <InputBase value={searchFilter} onChange={e => onFilterTextChange(e.target.value)} className={classes.input} placeholder=\"Filter by name\" />\r\n    <IconButton className={classes.iconButton} aria-label=\"Search\">\r\n      <SearchIcon />\r\n    </IconButton>\r\n  </Paper>\r\n);\nSearchBar.defaultProps = {\n  searchFilter: '',\n  className: ''\n};\r\n\r\nexport default withStyles(styles)(SearchBar);\r\n","import SearchBar from './searchBar.component';\n\nexport default SearchBar;\n","// @flow\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Announcer from './Announcer';\nimport SearchBar from './SearchBar';\r\nimport type { Announcer as AnnouncerType } from './types';\r\n\r\nconst styles = theme => ({\r\n  announersList: {\r\n    marginTop: theme.spacing.unit,\r\n    [theme.breakpoints.up('md')]: {\r\n      marginLeft: theme.spacing.unit * 2,\r\n    }\r\n  },\r\n  announcer: {\r\n    [theme.breakpoints.down('md')]: {\r\n      marginBottom: theme.spacing.unit * 2,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      marginBottom: theme.spacing.unit,\r\n    }\r\n  },\n  searchBar: {\n    marginBottom: theme.spacing.unit * 2\n  }\r\n});\r\n\r\ntype Props = {\r\n  classes: {},\r\n  announcers: Array<AnnouncerType>,\n  searchFilter: string,\n  onFilterTextChange: (text: string) => void,\r\n  onClickDeleteTorrent: (infoHash: string) => void\r\n};\r\n\r\nconst Announcers = ({\n  classes, announcers, searchFilter, onFilterTextChange, onClickDeleteTorrent\n}: Props) => (\r\n  <div>\r\n    <Typography variant=\"h6\">{`Currently seeding (${announcers.length})`}</Typography>\n    <SearchBar onFilterTextChange={onFilterTextChange} className={classes.searchBar} searchFilter={searchFilter} onSearchTextChange={console.log} />\r\n    <div className={classes.announersList}>\r\n      {announcers.map((announcer) => (\r\n        <div key={announcer.infoHash}>\r\n          <Announcer className={classes.announcer} announcer={announcer} onClickDeleteTorrent={onClickDeleteTorrent} />\r\n        </div>\r\n      ))}\r\n      { announcers.length === 0 && (\r\n        <div className=\"text-center\">\r\n          {'No torrents are currently seeding.'}\r\n          <br />\r\n          {'Drag and Drop torrents into the windows to start seeding'}\r\n        </div>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Announcers);\r\n","// @flow\nimport { connect } from 'react-redux';\nimport Announcers from './torrentsTable.component';\nimport { changeSearchFilterText } from './torrentsTable.actions';\nimport { deleteTorrent } from '../../modules/joal-api';\nimport type { StateType, Dispatch } from '../../types';\n\nconst filterTorrents = (torrents, searchFilter) => {\n  if (searchFilter.trim().length === 0) {\n    return torrents;\n  }\n  const filterText = searchFilter.toLowerCase();\n  return torrents.filter(t => t.torrentName.toLowerCase().includes(filterText));\n};\n\nfunction mapStateToProps(state: StateType) {\n  return {\n    announcers: filterTorrents(state.api.announcers, state.app.torrentsTable.searchFilter),\n    searchFilter: state.app.torrentsTable.searchFilter\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    onFilterTextChange: (text) => dispatch(changeSearchFilterText(text)),\n    onClickDeleteTorrent: (infoHash) => deleteTorrent(infoHash)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Announcers);\n","// @flow\nimport TorrentsTableContainer from './torrentsTable.container';\n\nexport default TorrentsTableContainer;\n","// @flow\r\nimport React from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Fab from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ClientInfo from '../../components/ClientInfo';\r\nimport AbsoluteOverlayFetchingIndicator from '../../components/Generics/FetchingIndicator/AbsoluteOverlayFetchingIndicator';\r\nimport UiConfigChangerButton from '../../components/UiConfigChanger';\r\nimport TorrentsTable from '../../components/TorrentsTable';\r\n\r\nconst styles = theme => ({\r\n  relative: {\r\n    position: 'relative'\r\n  },\r\n  addButton: {\r\n    position: 'fixed',\r\n    bottom: 75,\r\n    right: theme.spacing.unit * 2\r\n  },\r\n  addButtonInput: {\r\n    display: 'none'\r\n  },\r\n  announcers: {\r\n    marginBottom: 70\r\n  }\r\n});\r\n\r\ntype Props = {\r\n  classes: {},\r\n  className?: string,\r\n  isStarted: boolean,\r\n  isConnectedToWebSocket: boolean,\r\n  isClientGlobalStatePending: boolean,\r\n  shouldDisplayConfigChangerButton: boolean,\r\n  uploadTorrentFiles: (files: Array<File>) => void\r\n};\r\n\r\nconst Dashboard = ({\r\n  className: classNameProps,\r\n  shouldDisplayConfigChangerButton, classes, isConnectedToWebSocket, isClientGlobalStatePending, isStarted,\r\n  uploadTorrentFiles\r\n}: Props) => (\r\n  <Grid\r\n    container\r\n    spacing={16}\r\n    direction=\"row\"\r\n    className={classNameProps}\r\n  >\r\n    <Grid item xs={12} md={4} lg={3}>\r\n      {shouldDisplayConfigChangerButton && <UiConfigChangerButton style={{ marginBottom: 6 }} />}\r\n      <div className={classes.relative}>\r\n        <AbsoluteOverlayFetchingIndicator active={!isConnectedToWebSocket || isClientGlobalStatePending} />\r\n        <ClientInfo />\r\n      </div>\r\n    </Grid>\r\n    {isStarted && (\r\n      <Grid item xs={12} md={8} lg={9} className={classes.announcers}>\r\n        <TorrentsTable />\r\n      </Grid>\r\n    )}\r\n    <ReactTooltip place=\"top\" type=\"dark\" effect=\"float\" />\r\n\r\n    <input\r\n      type=\"file\"\r\n      accept=\".torrent\"\r\n      multiple\r\n      id=\"add-torrent-file-button\"\r\n      className={classes.addButtonInput}\r\n      onChange={(e) => uploadTorrentFiles(Array.from(e.target.files))}\r\n    />\r\n    <label htmlFor=\"add-torrent-file-button\"> {/* eslint-disable-line */}\r\n      <Tooltip title=\"Add a torrent\" aria-label=\"Add a torrent\" placement=\"left\">\r\n        <Fab className={classes.addButton} variant=\"fab\" component=\"span\" disabled={!isStarted} color=\"secondary\" aria-label=\"Add\">\r\n          <AddIcon />\r\n        </Fab>\r\n      </Tooltip>\r\n    </label>\r\n  </Grid>\r\n);\r\n\r\nDashboard.defaultProps = {\r\n  className: ''\r\n};\r\n\r\nexport default withStyles(styles)(Dashboard);\r\n","// @flow\r\nimport { connect } from 'react-redux';\r\nimport isElectron from 'is-electron';\nimport Dashboard from './dashboard.component';\r\nimport { uploadTorrents } from '../../modules/joal-api';\r\nimport type { StateType } from '../../types';\r\n\r\nfunction mapStateToProps(state: StateType) {\r\n  return {\r\n    isStarted: state.api.client.isStarted,\r\n    isConnectedToWebSocket: state.api.stomp.isConnected,\r\n    isClientGlobalStatePending: state.api.client.isFetching,\r\n    shouldDisplayConfigChangerButton: !isElectron()\r\n  };\r\n}\r\nfunction mapDispatchToProps() {\r\n  return {\r\n    uploadTorrentFiles: (files) => uploadTorrents(files)\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import Dashboard from './dashboard.container';\n\nexport default Dashboard;\n","// @flow\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport { withStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport AbsoluteOverlayFetchingIndicator from '../../components/Generics/FetchingIndicator/AbsoluteOverlayFetchingIndicator';\nimport type { Config } from './types';\n\nconst styles = theme => ({\n  container: {\n    padding: theme.spacing.unit * 2,\n    position: 'relative',\n  },\n  discardChangesButton: {\n    marginRight: theme.spacing.unit * 2\n  },\n  formInput: {\n    marginBottom: theme.spacing.unit * 3,\n    minWidth: 180\n  },\n  rightSpaced: {\n    marginRight: theme.spacing.unit * 2\n  }\n});\n\nconst ITEM_HEIGHT = 48;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 6\n    },\n  },\n};\n\ntype Props = {\n  classes: {},\n  isLocalConfigChanged: boolean,\n  config: Config,\n  availableClients: Array<string>,\n  isConnectedToWebSocket: boolean,\n  discardLocalConfigChanges: () => void,\n  onSettingsChange: () => void,\n  onClickSave: () => void\n};\n\nconst Settings = (props: Props) => {\n  const {\n    classes,\n    isConnectedToWebSocket,\n    discardLocalConfigChanges, onSettingsChange, onClickSave,\n    availableClients, config, isLocalConfigChanged\n  } = props;\n\n  const valueHasChanged = (newValue) => onSettingsChange(Object.assign(\n    {},\n    config,\n    newValue\n  ));\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      <Grid item xs={12} md={6}>\n        <Paper\n          className={classes.container}\n          elevation={2}\n        >\n          <AbsoluteOverlayFetchingIndicator active={!isConnectedToWebSocket} />\n          <Grid\n            container\n            direction=\"row\"\n          >\n            <Grid item xs={12}>\n              <TextField\n                className={classnames(classes.formInput, classes.rightSpaced)}\n                label=\"Min upload rate (kB/s)\"\n                type=\"number\"\n                min={0}\n                value={config.minUploadRate}\n                onChange={(event) => {\n                  const value = event.target.value === '' ? '' : parseInt(event.target.value, 10);\n                  valueHasChanged({ minUploadRate: value });\n                }}\n              />\n              <TextField\n                className={classes.formInput}\n                label=\"Max upload rate (kB/s)\"\n                type=\"number\"\n                min={0}\n                value={config.maxUploadRate}\n                onChange={(event) => {\n                  const value = event.target.value === '' ? '' : parseInt(event.target.value, 10);\n                  valueHasChanged({ maxUploadRate: value });\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl className={classes.formInput}>\n                <InputLabel htmlFor=\"torrent-client-selector\">Torrent client</InputLabel>\n                <Select\n                  value={config.client}\n                  onChange={(event) => valueHasChanged({ client: event.target.value })}\n                  input={<Input name=\"torrent-client\" id=\"torrent-client-selector\" />}\n                  MenuProps={MenuProps}\n                >\n                  {availableClients.map(client => (\n                    <MenuItem\n                      key={client}\n                      value={client}\n                    >\n                      {client.substring(0, client.lastIndexOf('.'))}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                className={classes.formInput}\n                label=\"Simultaneous seed\"\n                type=\"number\"\n                min={1}\n                value={config.simultaneousSeed}\n                onChange={(event) => {\n                  const value = event.target.value === '' ? '' : parseInt(event.target.value, 10);\n                  valueHasChanged({ simultaneousSeed: value });\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <div className={classes.formInput}>\n                <FormControlLabel\n                  control={(\n                    <Checkbox\n                      style={{ paddingBottom: 0, paddingTop: 0 }}\n                      color=\"primary\"\n                      checked={config.keepTorrentWithZeroLeechers}\n                      onChange={(e, checked) => valueHasChanged({ keepTorrentWithZeroLeechers: checked })}\n                    />\n                  )}\n                  label=\"Keep seeding torrents even with no peers\"\n                />\n                <FormHelperText style={{ marginTop: 0 }}>\n                  If checked, when a torrent reach 0 peers it will seed at 0 kB/s. Otherwise, when a torrent reach 0 peers it will be removed.\n                </FormHelperText>\n              </div>\n            </Grid>\n          </Grid>\n          <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\">\n            <Grid item>\n              { isLocalConfigChanged && (\n                <Button\n                  variant=\"outlined\"\n                  onClick={() => discardLocalConfigChanges()}\n                  color=\"secondary\"\n                  className={classes.discardChangesButton}\n                >\n                  Discard\n                </Button>\n              )}\n              <Button\n                variant=\"contained\"\n                onClick={() => onClickSave(config)}\n                color=\"secondary\"\n              >\n                Save\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles)(Settings);\n","// @flow\nimport { connect } from 'react-redux';\nimport SettingsComponent from './settings.component';\nimport { localConfigHasChanged, discardLocalConfigChanges } from './settings.actions';\nimport { sendConfigToServer } from '../../modules/joal-api';\nimport type { StateType, Dispatch } from '../../types';\nimport type { Config } from './types';\n\nfunction mapStateToProps(state: StateType) {\n  return {\n    // if local config is set it means the user has modified the config, so we show it\n    isLocalConfigChanged: state.app.config.localConfig !== undefined,\n    config: state.app.config.localConfig || state.api.settings.config,\n    availableClients: state.api.settings.availableClients,\n    isConnectedToWebSocket: state.api.stomp.isConnected\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return ({\n    discardLocalConfigChanges: () => dispatch(discardLocalConfigChanges()),\n    onSettingsChange: (config: Config) => dispatch(localConfigHasChanged(config)),\n    onClickSave: (config: Config) => sendConfigToServer(config)\n  });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingsComponent);\n","// @flow\nimport Settings from './settings.container';\n\nexport default Settings;\n","// @flow\nimport React from 'react';\nimport IconWarning from '@material-ui/icons/Warning';\nimport Grid from '@material-ui/core/Grid';\nimport orange from '@material-ui/core/colors/orange';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = () => ({\n  container: {\n    textAlign: 'center',\n    marginTop: 100,\n    height: '100%'\n  }\n});\n\ntype Props = {\n  classes: {},\n  events: Array<string>\n};\n\nconst EventHistory = ({ classes, events }: Props) => {\n  if (events) {\n    // TODO: implement me. this if is just a placeholder to prevent no-unused-params\n  }\n  return (\n    <Grid container className={classes.container}>\n      <Grid item xs={12}>\n        <IconWarning\n          viewBox=\"0 0 24 20\"\n          style={{ color: orange[500], height: 200, width: 166 }}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <b>Hey it looks like you discovered the super secret tab !</b>\n      </Grid>\n      <Grid item xs={12}>\n        This tab will tell you what was the last actions JOAL has performed. Unfortunately this is still under development, check it back later ;)\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default withStyles(styles)(EventHistory);\n","// @flow\nimport { connect } from 'react-redux';\nimport EventHistoryComponent from './event-history.component';\n\nfunction mapStateToProps() {\n  return {\n    events: []\n  };\n}\n\nexport default connect(mapStateToProps)(EventHistoryComponent);\n","// @flow\nimport EventHistoryContainer from './event-history.container';\n\nexport default EventHistoryContainer;\n","// @flow\nimport React from 'react';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport Paper from '@material-ui/core/Paper';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LogsIcon from '@material-ui/icons/Sms';\n\ntype Props = {\n  currentPath: string,\n  onClickDashboard: () => void,\n  onClickSettings: () => void,\n  onClickLogs: () => void\n};\n\nconst NavigationBar = (props: Props) => {\n  const {\n    currentPath,\n    onClickDashboard,\n    onClickSettings,\n    onClickLogs\n  } = props;\n\n  const whichIndex = (whichPath) => {\n    if (whichPath === '/') {\n      return 0;\n    }\n    if (whichPath === '/settings') {\n      return 1;\n    }\n    return 2;\n  };\n\n  const onChangeTab = (event, index) => {\n    if (index === 0) onClickDashboard();\n    else if (index === 1) onClickSettings();\n    else if (index === 2) onClickLogs();\n  };\n\n  return (\n    <Paper elevation={1}>\n      <BottomNavigation\n        showLabels\n        value={whichIndex(currentPath)}\n        onChange={onChangeTab}\n      >\n        <BottomNavigationAction\n          label=\"dashboard\"\n          icon={<DashboardIcon />}\n        />\n        <BottomNavigationAction\n          label=\"configuration\"\n          icon={<SettingsIcon />}\n        />\n        <BottomNavigationAction\n          label=\"history\"\n          icon={<LogsIcon />}\n        />\n      </BottomNavigation>\n    </Paper>\n  );\n};\n\nexport default NavigationBar;\n","// @flow\nimport { connect } from 'react-redux';\nimport NavigationBar from './navigationBar.component';\nimport { history } from '../../store/configureStore';\nimport type { StateType } from '../../types';\n\nfunction mapStateToProps(state: StateType) {\n  return {\n    currentPath: state.router.location.pathname\n  };\n}\n\nfunction mapDispatchToProps() {\n  return {\n    onClickDashboard: () => history.push('/'),\n    onClickSettings: () => history.push('/settings'),\n    onClickLogs: () => history.push('/history')\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavigationBar);\n","// @flow\nimport NavigationBarContainer from './navigationBar.container';\n\nexport default NavigationBarContainer;\n","// @flow\nimport React, { Component } from 'react';\nimport type { Children } from 'react';\nimport Dropzone from 'react-dropzone';\nimport { withStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\n\nconst styles = () => ({\n  dropzone: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  overlay: {\n    zIndex: 16777270,\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'rgba(156, 155, 155, 0.86)',\n    color: 'rgba(130, 130, 130, 0.75)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\n\nclass TorrentDropZone extends Component {\n  props: {\n    classes: {},\n    onDrop: () => void,\n    children: Children\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      dropzoneActive: false\n    };\n  }\n\n  onDragEnter() {\n    this.setState({\n      dropzoneActive: true\n    });\n  }\n\n  onDragLeave() {\n    this.setState({\n      dropzoneActive: false\n    });\n  }\n\n  onDrop(accepted, rejected) {\n    const { onDrop } = this.props;\n\n    this.setState({\n      dropzoneActive: false\n    });\n    onDrop(accepted, rejected);\n  }\n\n  render() {\n    const { dropzoneActive } = this.state;\n    const { classes, children } = this.props;\n\n    return (\n      <Dropzone\n        disableClick\n        className={classes.dropzone}\n        onDrop={this.onDrop.bind(this)}\n        onDragEnter={this.onDragEnter.bind(this)}\n        onDragLeave={this.onDragLeave.bind(this)}\n      >\n        <div>\n          {children}\n          {dropzoneActive && (\n            <div className={classes.overlay}>\n              <i className={classnames('fa', 'fa-download', 'fa-5x')} aria-hidden=\"true\" />\n            </div>\n          )}\n        </div>\n      </Dropzone>\n    );\n  }\n}\n\nexport default withStyles(styles)(TorrentDropZone);\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n/* import IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu'; */\nimport { withStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { ThemeModifier } from '../../modules/theme';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n};\n\ntype Props = {\n  classes: {},\n  className?: {}\n}\n\nconst JoalAppBar = (props: Props) => {\n  const {\n    className: classNameProps, classes\n  } = props;\n\n  return (\n    <div className={classnames(classes.root, classNameProps)}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {/* }<IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\n            <MenuIcon />\n          </IconButton> */}\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n            Joal\n          </Typography>\n          <ThemeModifier />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\nJoalAppBar.defaultProps = {\n  className: {}\n};\n\nexport default withStyles(styles)(JoalAppBar);\n","// @flow\nimport JoalAppBar from './appbar.component';\n\nexport default JoalAppBar;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = () => ({\n  icon: {\n    stroke: 'black'\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string,\n  children: {}\n}\n\nconst BaseIcon = ({\n  classes, className: classNameProps, children\n}: Props) => (\n  <svg\n    className={classnames(classes.icon, classNameProps)}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    style={{ minWidth: 24 }}\n  >\n    {children}\n  </svg>\n);\nBaseIcon.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(BaseIcon);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport BaseIcon from './BaseIcon';\n\nconst styles = () => ({\n  icon: {\n    stroke: '#2E9AFE'\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string\n}\n\nconst InfoIcon = ({ classes, className: classNameProps }: Props) => (\n  <BaseIcon classes={{ icon: classes.icon }} className={classNameProps}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" />\n    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"8\" />\n  </BaseIcon>\n);\nInfoIcon.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(InfoIcon);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport BaseIcon from './BaseIcon';\n\nconst styles = () => ({\n  icon: {\n    stroke: '#31B404'\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string\n}\n\nconst SuccessIcon = ({ classes, className: classNameProps }: Props) => (\n  <BaseIcon classes={{ icon: classes.icon }} className={classNameProps}>\n    <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\" />\n    <polyline points=\"22 4 12 14.01 9 11.01\" />\n  </BaseIcon>\n);\nSuccessIcon.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(SuccessIcon);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport BaseIcon from './BaseIcon';\n\nconst styles = () => ({\n  icon: {\n    stroke: '#FF0040'\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string\n}\n\nconst ErrorIcon = ({ classes, className: classNameProps }: Props) => (\n  <BaseIcon classes={{ icon: classes.icon }} className={classNameProps}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\n    <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"16\" />\n  </BaseIcon>\n);\nErrorIcon.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(ErrorIcon);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport BaseIcon from './BaseIcon';\n\nconst styles = () => ({\n  icon: {\n    stroke: '#000000'\n  }\n});\n\ntype Props = {\n  classes: {},\n  className?: string\n}\n\nconst CloseIcon = ({ classes, className: classNameProps }: Props) => (\n  <BaseIcon classes={{ icon: classes.icon }} className={classNameProps}>\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n  </BaseIcon>\n);\nCloseIcon.defaultProps = {\n  className: ''\n};\n\nexport default withStyles(styles)(CloseIcon);\n","import AlertTemplate from './alert-template.component';\n\nexport default AlertTemplate;\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport InfoIcon from './icons/InfoIcon';\nimport SuccessIcon from './icons/SuccessIcon';\nimport ErrorIcon from './icons/ErrorIcon';\nimport CloseIcon from './icons/CloseIcon';\n\nconst styles = theme => ({\n  alert: {\n    // boxShadow: '0 8px 12px 0 rgba(0,0,0,0.3)',\n    backgroundColor: `${theme.palette.type === 'dark' ? '#333' : '#fff'}`,\n    borderRadius: 3,\n    padding: 10,\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    boxShadow: '0px 2px 2px 2px rgba(0, 0, 0, 0.03)',\n    fontFamily: 'Arial',\n    fontSize: 11,\n    width: 350,\n    [theme.breakpoints.down('xs')]: {\n      width: '75vw'\n    },\n    boxSizing: 'border-box',\n    position: 'relative'\n  },\n  message: {\n    color: `${theme.palette.type === 'dark' ? '#fff' : '#333'}`,\n    paddingRight: 40,\n    textAlign: 'center',\n    textTransform: 'uppercase',\n  },\n  statusIcon: {\n    marginRight: 15\n  },\n  closeButton: {\n    padding: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'absolute',\n    right: 0,\n    top: 0,\n    bottom: 0,\n    width: 40,\n    border: 'none',\n    backgroundColor: theme.palette.type === 'dark' ? '#444' : '#f3f3f3',\n    cursor: 'pointer',\n  },\n  closeIconOverride: {\n    stroke: theme.palette.type === 'dark' ? '#BBB' : '#000'\n  }\n});\n\ntype Props = {\n  classes: {},\n  classNameProps: {},\n  style: {},\n  message: string,\n  options: {},\n  close: () => void\n}\n\nconst AlertTemplate = ({\n  classes, message, options, style, close\n}: Props) => (\n  // the style contains only the margin given as offset\n  // options contains all alert given options\n  // message is the alert message...\n  // close is a function that closes the alert\n  <div className={classes.alert} style={style}>\n    {options.type === 'success' && <SuccessIcon className={classes.statusIcon} />}\n    {options.type === 'info' && <InfoIcon className={classes.statusIcon} />}\n    {options.type === 'error' && <ErrorIcon className={classes.statusIcon} />}\n    <span className={classes.message} style={{ flex: 2 }}>{message}</span>\n    <button className={classes.closeButton} onClick={close} type=\"button\">\n      <CloseIcon classes={{ icon: classes.closeIconOverride }} />\n    </button>\n  </div>\n);\n\nexport default withStyles(styles)(AlertTemplate);\n","// @flow\nimport React, { Component } from 'react';\nimport { withAlert } from 'react-alert';\nimport { connect } from 'react-redux';\nimport { removeNotification } from './alerts.actions';\nimport type { StateType, Dispatch } from '../../types';\nimport type { Notification } from './types';\n\nclass JoalAlertDisplayer extends Component {\n  props: {\n    alert: {}, // given by withAlert wrapper\n    notifs: Array<Notification>,\n    shouldShowDirtyConfNotif: boolean,\n    onMessageClosed: (id: string) => void\n  }\n\n  shouldComponentUpdate(nextProps) {\n    const { notifs: currentNotifs, shouldShowDirtyConfNotif: currentShouldShowDirtyConfNotif } = this.props;\n    return (currentNotifs !== nextProps.notifs || currentShouldShowDirtyConfNotif !== nextProps.shouldShowDirtyConfNotif);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { shouldShowDirtyConfNotif, alert, notifs } = this.props;\n    if (prevProps.shouldShowDirtyConfNotif !== shouldShowDirtyConfNotif) {\n      if (shouldShowDirtyConfNotif === true) {\n        alert.info('Config wont be refreshed until you restart JOAL', {\n          id: 'dirtyConfID'\n        });\n      } else {\n        alert.remove({ id: 'dirtyConfID' });\n      }\n    }\n\n    if (notifs === prevProps.notifs) {\n      return;\n    }\n    // Remove notifications that are not present anymore\n    notifs.forEach(oldNotif => {\n      if (notifs.findIndex(n => n.id === oldNotif.id) === -1) {\n        alert.remove({ id: oldNotif.id });\n      }\n    });\n\n    // Add new notifications\n    notifs.forEach(newNotif => {\n      if (prevProps.notifs.findIndex(n => n.id === newNotif.id) === -1) {\n        this.showNotification(newNotif);\n      }\n    });\n  }\n\n  showNotification(notification) {\n    const { alert, onMessageClosed } = this.props;\n    const notifCopy = Object.assign({}, notification, {\n      onClose: () => onMessageClosed(notification.id)\n    });\n    const { text } = notifCopy;\n    switch (notifCopy.type) {\n      case 'ERROR': {\n        alert.error(<span>{text}</span>, notifCopy);\n        break;\n      }\n      case 'SUCCESS': {\n        alert.success(text, notifCopy);\n        break;\n      }\n      case 'INFO': {\n        alert.info(text, notifCopy);\n        break;\n      }\n      default: {\n        console.error(`Unknown AlertMessage type: ${notifCopy.type}`);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <span />\n    );\n  }\n}\n\n\nfunction mapStateToProps(state: StateType) {\n  const { notifs, shouldShowDirtyConfNotif } = state.alerts;\n  return {\n    notifs,\n    shouldShowDirtyConfNotif\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return ({\n    onMessageClosed: (id: string) => dispatch(removeNotification(id))\n  });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withAlert(JoalAlertDisplayer));\n","import JoalAlertProvider from './alerts-provider.component';\n\nexport default JoalAlertProvider;\n","// @flow\r\nimport React from 'react';\r\nimport { Provider as AlertProvider } from 'react-alert';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\nimport AlertTemplate from './alert-template';\r\nimport AlertsDisplayer from './alerts-displayer.component';\r\n\ntype Props = {\n  width: number\n}\n\nconst JoalAlertProvider = ({ width }: Props) => (\r\n  <AlertProvider\r\n    template={AlertTemplate}\n    offset={isWidthUp('sm', width) ? '10px' : '6px'}\r\n    position=\"top right\"\r\n    timeout={0}\r\n    transition=\"fade\"\r\n    zIndex={14000000}\r\n  >\r\n    <AlertsDisplayer />\r\n  </AlertProvider>\r\n);\r\n\r\nexport default withWidth()(JoalAlertProvider);\r\n","// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter } from 'react-router-redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport DashboardPage from './dashboard';\r\nimport SettingsPage from './settings';\r\nimport Historypage from './event-history';\r\nimport NavigationBar from '../components/NavigationBar';\r\nimport TorrentDropZone from '../components/TorrentDropZone';\r\nimport JoalAppBar from '../components/AppBar';\r\nimport Alerts from '../modules/alerts';\r\nimport { uploadTorrents } from '../modules/joal-api';\r\n\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing.unit * 2\r\n  },\r\n  navigationBarWrapper: {\r\n    position: 'fixed',\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0\r\n  }\r\n});\r\n\r\ntype Props = {\r\n  classes: {},\r\n  history: {},\r\n  onFileDrop: () => void\r\n};\r\n\r\ntype DropzoneFile = {\r\n  lastModified: number,\r\n  name: string,\r\n  size: number,\r\n  type: string\r\n};\r\n\r\nconst App = (props: Props) => {\r\n  const {\r\n    onFileDrop, classes, history\r\n  } = props;\r\n  return (\r\n    <div>\r\n      <Alerts />\r\n      <TorrentDropZone onDrop={onFileDrop}>\r\n        <header>\r\n          <JoalAppBar />\r\n        </header>\r\n        <Grid container className={classes.root}>\r\n          <Grid item xs={12}>\r\n            <main>\r\n              <ConnectedRouter history={history}>\r\n                <Switch>\r\n                  <Route exact path=\"/history\" component={Historypage} />\r\n                  <Route exact path=\"/settings\" component={SettingsPage} />\r\n                  <Route exact path=\"/\" component={DashboardPage} />\r\n                </Switch>\r\n              </ConnectedRouter>\r\n            </main>\r\n            <footer className={classes.navigationBarWrapper}>\r\n              <NavigationBar />\r\n            </footer>\r\n          </Grid>\r\n        </Grid>\r\n      </TorrentDropZone>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps() {\r\n  return {\r\n    onFileDrop: (accepted: Array<DropzoneFile>/* , rejected: Array<DropzoneFile> */) => {\r\n      uploadTorrents(accepted);\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(App));\r\n","// @flow\r\nimport React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { ThemeProvider } from '../modules/theme';\r\nimport App from './App';\r\n\r\ntype Props = {\r\n  store: {},\r\n  history: {}\r\n};\r\n\r\nconst Root = ({ store, history }: Props) => (\r\n  <Provider store={store}>\r\n    <ThemeProvider>\r\n      <App history={history} />\r\n    </ThemeProvider>\r\n  </Provider>\r\n);\r\n\r\nexport default Root;\r\n","// @flow\nimport type { Action } from '../types';\n\nconst createReducer = (initialState: ?{}, handlers: {}) => (\n  (state: ?{} = initialState, action: Action<*>) => (\n    Object.prototype.toString.call(handlers[action.type]) === '[object Function]'\n      ? handlers[action.type](state, action)\n      : state\n  )\n);\n\nexport default createReducer;\n","// @flow\nimport update from 'immutability-helper';\nimport createReducer from '../../reducers/createReducer';\nimport {\n  TORRENT_SEARCH_FILTER_TEXT_CHANGED\n} from './torrentsTable.actions';\nimport type {\n  Handler,\n  Action\n} from '../../types';\n\nconst initialState = {\n  searchFilter: '',\n  sortBy: '',\n  sortOrder: '',\n  currentPage: 1,\n  torrentsPerPage: 10\n};\n\nconst handlers: Handler<> = {\n  [TORRENT_SEARCH_FILTER_TEXT_CHANGED](state, action: Action<string>) {\n    return update(state, {\n      searchFilter: { $set: action.text }\n    });\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport update from 'immutability-helper';\nimport createReducer from '../../reducers/createReducer';\nimport {\n  LOCAL_CONFIG_HAS_CHANGED,\n  DISCARD_LOCAL_CONFIG\n} from './settings.actions';\nimport {\n  CONFIG_IS_IN_DIRTY_STATE as API___CONFIG_IS_IN_DIRTY_STATE,\n  CONFIG_HAS_BEEN_LOADED as API____CONFIG_HAS_BEEN_LOADED\n} from '../../modules/joal-api/settings/settings.actions';\nimport type {\n  Handler,\n  Action\n} from '../../types';\nimport type { LocalConfigState, Config } from './types';\n\nconst initialState = {\n  localConfig: undefined\n};\n\nconst handlers: Handler<LocalConfigState> = {\n  [LOCAL_CONFIG_HAS_CHANGED](state, action: Action<Config>) {\n    return update(state, {\n      localConfig: { $set: action.config }\n    });\n  },\n  [DISCARD_LOCAL_CONFIG](state) {\n    return update(state, {\n      localConfig: { $set: undefined }\n    });\n  },\n  // When the server send the new config we remove the local one\n  [API___CONFIG_IS_IN_DIRTY_STATE]() {\n    return initialState;\n  },\n  [API____CONFIG_HAS_BEEN_LOADED]() {\n    return initialState;\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\r\nimport update from 'immutability-helper';\r\nimport createReducer from '../../../reducers/createReducer';\r\nimport {\r\n  CHANGE_THEME_TYPE\r\n} from './theme-modifier.actions';\r\nimport type {\r\n  Handler\r\n} from '../../../types';\r\n\r\nconst initialState = {\r\n  palette: {\r\n    type: localStorage.getItem('themeType') || 'light'\r\n  }\r\n};\r\n\nconst handlers: Handler<> = {\n  [CHANGE_THEME_TYPE](state) {\n    const newTheme = state.palette.type === 'light' ? 'dark' : 'light';\n    localStorage.setItem('themeType', newTheme);\n    return update(state, {\n      palette: {\n        type: { $set: newTheme }\n      }\n    });\n  },\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport update from 'immutability-helper';\nimport {\n  TORRENT_FILE_ADDED,\n  TORRENT_FILE_DELETED,\n  FAILED_TO_ADD_TORRENT_FILE,\n  RESET_TORRENT_FILES_STATE\n} from './torrentFile.actions';\nimport createReducer from '../../../reducers/createReducer';\nimport type {\n  Handler,\n  Action\n} from '../../../types';\nimport type {\n  TorrentFilesState,\n  TorrentFilePayload\n} from './types';\n\n\nconst initialState = [];\n\n\nconst handlers: Handler<TorrentFilesState> = {\n  [TORRENT_FILE_ADDED](state, action: Action<TorrentFilePayload>) {\n    return update(state.filter(tf => tf.infoHash !== action.payload.infoHash), { $push: [action.payload] });\n  },\n  [TORRENT_FILE_DELETED](state, action: Action<TorrentFilePayload>) {\n    return state.filter(tf => tf.infoHash !== action.payload.infoHash);\n  },\n  [FAILED_TO_ADD_TORRENT_FILE](state) {\n    // Do nothing, notifications reducer will handle it\n    return state;\n  },\n  [RESET_TORRENT_FILES_STATE]() {\n    return initialState;\n  }\n};\n\nexport default createReducer(initialState, handlers);\n// @flow\n","// @flow\nimport update from 'immutability-helper';\nimport {\n  GLOBAL_SEED_STARTED,\n  GLOBAL_SEED_STOPPED,\n  SEND_START_TO_SERVER,\n  SEND_STOP_TO_SERVER,\n  RESET_CLIENT_STATE\n} from './client.actions';\nimport createReducer from '../../../reducers/createReducer';\nimport type {\n  Handler,\n  Action\n} from '../types';\nimport type {\n  ClientState,\n  GlobalSeedStartedPayload\n} from './types';\n\n\nconst initialState = {\n  isFetching: true,\n  isStarted: false,\n  name: ''\n};\n\n\nconst handlers: Handler<ClientState> = {\n  [GLOBAL_SEED_STARTED](state, action: Action<GlobalSeedStartedPayload>) {\n    return update(state, {\n      isFetching: { $set: false },\n      isStarted: { $set: true },\n      name: { $set: action.payload.client }\n    });\n  },\n  [GLOBAL_SEED_STOPPED](state) {\n    return update(state, {\n      isFetching: { $set: false },\n      isStarted: { $set: false },\n      name: { $set: '' }\n    });\n  },\n  [SEND_START_TO_SERVER](state) {\n    return update(state, {\n      isFetching: { $set: true }\n    });\n  },\n  [SEND_STOP_TO_SERVER](state) {\n    return update(state, {\n      isFetching: { $set: true }\n    });\n  },\n  [RESET_CLIENT_STATE]() {\n    return initialState;\n  }\n};\n\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport update from 'immutability-helper';\nimport {\n  CONFIG_IS_IN_DIRTY_STATE,\n  INVALID_CONFIG,\n  CONFIG_HAS_BEEN_LOADED,\n  LIST_OF_CLIENT_FILES,\n  RESET_CONFIG\n} from './settings.actions';\nimport createReducer from '../../../reducers/createReducer';\nimport type {\n  SettingsState,\n  InvalidConfigPayload,\n  SettingsPayload,\n  ClientFilesDiscoveredPayload\n} from './types';\nimport type {\n  Handler,\n  Action\n} from '../types';\n\n\nconst initialState = {\n  isDirty: false,\n  errMessage: undefined,\n  config: {\n    minUploadRate: 0,\n    maxUploadRate: 0,\n    simultaneousSeed: 0,\n    client: '',\n    keepTorrentWithZeroLeechers: false\n  },\n  availableClients: []\n};\n\nconst handlers: Handler<SettingsState> = {\n  [CONFIG_IS_IN_DIRTY_STATE](state, action: Action<SettingsPayload>) {\n    return update(state, {\n      isDirty: { $set: true },\n      config: { $set: action.payload.config },\n      errMessage: { $set: undefined }\n    });\n  },\n  [INVALID_CONFIG](state, action: Action<InvalidConfigPayload>) {\n    return update(state, {\n      errMessage: { $set: action.payload.error }\n    });\n  },\n  [CONFIG_HAS_BEEN_LOADED](state, action: Action<SettingsPayload>) {\n    return update(state, {\n      isDirty: { $set: false },\n      config: { $set: action.payload.config },\n      errMessage: { $set: undefined }\n    });\n  },\n  [LIST_OF_CLIENT_FILES](state, action: Action<ClientFilesDiscoveredPayload>) {\n    return update(state, { availableClients: { $set: action.payload.clients } });\n  },\n  [RESET_CONFIG]() {\n    return initialState;\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport {\n  SEEDING_SPEED_HAS_CHANGED,\n  RESET_SPEED_STATE\n} from './speed.actions';\nimport createReducer from '../../../reducers/createReducer';\nimport type {\n  SpeedState,\n  SeedingSpeedHasChangedPayload\n} from './types';\nimport type {\n  Handler,\n  Action\n} from '../types';\n\n\nconst initialState = [];\n\n\nconst handlers: Handler<SpeedState> = {\n  [SEEDING_SPEED_HAS_CHANGED](state, action: Action<SeedingSpeedHasChangedPayload>) {\n    return action.payload.speeds;\n  },\n  [RESET_SPEED_STATE]() {\n    return initialState;\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport update from 'immutability-helper';\nimport {\n  FAILED_TO_ANNOUNCE,\n  SUCCESSFULLY_ANNOUNCE,\n  TOO_MANY_ANNOUNCES_FAILED,\n  WILL_ANNOUNCE,\n  RESET_ANNOUNCER_STATE\n} from './announcers.actions';\nimport createReducer from '../../../reducers/createReducer';\nimport type {\n  AnnouncerState,\n  FailedToAnnouncePayload,\n  SuccessfullyAnnouncePayload,\n  TooManyAnnouncesFailedPayload,\n  WillAnnouncePayload\n} from './types';\nimport type {\n  Handler,\n  Action\n} from '../types';\n\n\nconst initialState = [];\n\n\nconst handlers: Handler<AnnouncerState> = {\n  [FAILED_TO_ANNOUNCE](state, action: Action<FailedToAnnouncePayload>) {\n    if (!state.find(announcer => announcer.infoHash === action.payload.infoHash)) {\n      return update(state, {\n        $push: [\n          Object.assign({}, { isFetching: false }, action.payload)\n        ]\n      });\n    }\n    return state.map(announcer => {\n      if (announcer.infoHash === action.payload.infoHash) {\n        return Object.assign(\n          {},\n          announcer,\n          { isFetching: false },\n          action.payload\n        );\n      }\n      return announcer;\n    });\n  },\n  [SUCCESSFULLY_ANNOUNCE](state, action: Action<SuccessfullyAnnouncePayload>) {\n    if (action.payload.requestEvent === 'STOPPED') {\n      return state.filter(announcer => announcer.infoHash !== action.payload.infoHash);\n    }\n\n    if (!state.find(announcer => announcer.infoHash === action.payload.infoHash)) {\n      return update(state, {\n        $push: [\n          Object.assign({}, { isFetching: false }, action.payload)\n        ]\n      });\n    }\n\n    return state.map(announcer => {\n      if (announcer.infoHash === action.payload.infoHash) {\n        return Object.assign(\n          {},\n          announcer,\n          { isFetching: false },\n          action.payload\n        );\n      }\n      return announcer;\n    });\n  },\n  [TOO_MANY_ANNOUNCES_FAILED](state, action: Action<TooManyAnnouncesFailedPayload>) {\n    return state.filter(announcer => announcer.infoHash !== action.payload.infoHash);\n  },\n  [WILL_ANNOUNCE](state, action: Action<WillAnnouncePayload>) {\n    if (!state.find(announcer => announcer.infoHash === action.payload.infoHash)) {\n      return update(state, {\n        $push: [\n          Object.assign({}, { isFetching: true }, action.payload)\n        ]\n      });\n    }\n\n    return state.map(announcer => {\n      if (announcer.infoHash === action.payload.infoHash) {\n        return Object.assign(\n          {},\n          announcer,\n          { isFetching: true },\n          action.payload\n        );\n      }\n      return announcer;\n    });\n  },\n  [RESET_ANNOUNCER_STATE]() {\n    return initialState;\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport update from 'immutability-helper';\nimport {\n  IS_CONNECTING,\n  HAS_CONNECTED,\n  HAS_FAILED_TO_CONNECT,\n  HAS_DROP_CONNECTION,\n  INIT_OVER,\n  RESET_STOMP_STATE\n} from './stomp.actions';\nimport createReducer from '../../../reducers/createReducer';\nimport type {\n  Handler\n} from '../../../types';\nimport type { StompState } from './types';\n\n\nconst initialState = {\n  isConnected: false,\n  isFullyInit: false\n};\n\n\nconst handlers: Handler<StompState> = {\n  [IS_CONNECTING](state) {\n    return update(state, {\n      isFullyInit: { $set: false }\n    });\n  },\n  [HAS_CONNECTED](state) {\n    return update(state, {\n      isConnected: { $set: true }\n    });\n  },\n  [HAS_FAILED_TO_CONNECT](state) {\n    return update(state, {\n      isConnected: { $set: false },\n      isFullyInit: { $set: false }\n    });\n  },\n  [HAS_DROP_CONNECTION](state) {\n    return update(state, {\n      isConnected: { $set: false },\n      isFullyInit: { $set: false }\n    });\n  },\n  [INIT_OVER](state) {\n    return update(state, {\n      isFullyInit: { $set: true }\n    });\n  },\n  [RESET_STOMP_STATE]() {\n    return initialState;\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","// @flow\nimport update from 'immutability-helper';\nimport createReducer from '../../reducers/createReducer';\nimport { CONFIG_IS_IN_DIRTY_STATE, CONFIG_HAS_BEEN_LOADED, INVALID_CONFIG } from '../joal-api/settings/settings.actions';\nimport { TORRENT_FILE_ADDED, FAILED_TO_ADD_TORRENT_FILE } from '../joal-api/torrentFiles/torrentFile.actions';\nimport {\n  INIT_OVER,\n  HAS_CONNECTED,\n  HAS_DROP_CONNECTION,\n  HAS_FAILED_TO_CONNECT,\n  RECEIVED_ERROR_MESSAGE\n} from '../joal-api/stomp/stomp.actions';\nimport { REMOVE_NOTIFICATION } from './alerts.actions';\nimport type {\n  Handler,\n  Action\n} from '../../types';\nimport type { NotificationState } from './types';\nimport type {\n  TorrentFilePayload,\n  FailedToAddTorrentFilePayload\n} from '../joal-api/torrentFiles/types';\n\n\nconst uuidv4 = () => (\n  ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c => (// eslint-disable-line\r\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16) // eslint-disable-line\r\n  ))\n);\n\nconst initialState = {\n  shouldShowDirtyConfNotif: false,\n  notifs: []\n};\nlet isAppInit = false;\n\nconst handlers: Handler<NotificationState> = {\n  [INIT_OVER](state) {\n    isAppInit = true;\n    return state;\n  },\n  [HAS_CONNECTED](state) {\n    isAppInit = false;\n    const notif = {\n      id: uuidv4(),\n      text: 'Connected to JOAL',\n      timeout: 6000,\n      type: 'SUCCESS'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  },\n  [HAS_DROP_CONNECTION](state) {\n    const notif = {\n      id: uuidv4(),\n      text: 'Lost connection to JOAL, auto-reconnect in 8 seconds.',\n      timeout: 6000,\n      type: 'ERROR'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  },\n  [HAS_FAILED_TO_CONNECT](state) {\n    const notif = {\n      id: uuidv4(),\n      text: 'Failed to connect to JOAL, retry in 8 seconds.',\n      timeout: 6000,\n      type: 'ERROR'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  },\n  [REMOVE_NOTIFICATION](state, action: Action<string>) {\n    return Object.assign(\n      {},\n      state,\n      { notifs: state.notifs.filter(notif => notif.id !== action.payload) }\n    );\n  },\n  [CONFIG_IS_IN_DIRTY_STATE](state) {\n    return update(state, {\n      shouldShowDirtyConfNotif: { $set: true }\n    });\n  },\n  [CONFIG_HAS_BEEN_LOADED](state) {\n    return update(state, {\n      shouldShowDirtyConfNotif: { $set: false }\n    });\n  },\n  [INVALID_CONFIG](state, action) {\n    const notif = {\n      id: uuidv4(),\n      text: `Invalid config: ${action.payload.error}`,\n      timeout: 6000,\n      type: 'ERROR'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  },\n  [TORRENT_FILE_ADDED](state, action: Action<TorrentFilePayload>) {\n    if (!isAppInit) {\n      // don't show notification if app is not inited\n      return state;\n    }\n    const notif = {\n      id: uuidv4(),\n      text: `${action.payload.name} added`,\n      timeout: 6000,\n      type: 'SUCCESS'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  },\n  [FAILED_TO_ADD_TORRENT_FILE](state, action: Action<FailedToAddTorrentFilePayload>) {\n    const notif = {\n      id: uuidv4(),\n      text: `${action.payload.fileName} was rejected by server: ${action.payload.error}`,\n      timeout: 6000,\n      type: 'ERROR'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  },\n  [RECEIVED_ERROR_MESSAGE](state, action: Action<string>) {\n    const notif = {\n      id: uuidv4(),\n      text: action.message,\n      timeout: 8000,\n      type: 'ERROR'\n    };\n    return update(state, {\n      notifs: { $push: [notif] }\n    });\n  }\n};\n\nexport default createReducer(initialState, handlers);\n","import { combineReducers } from 'redux';\nimport { routerReducer as router } from 'react-router-redux';\nimport torrentsTableReducer from '../components/TorrentsTable/torrentsTable.reducer';\nimport uiConfigReducer from '../pages/settings/settings.reducer';\nimport themeReducer from '../modules/theme/theme-modifier/theme-modifier.reducer';\nimport apiTorrentFileReducer from '../modules/joal-api/torrentFiles/torrentFiles.reducer';\nimport apiClientReducer from '../modules/joal-api/client/client.reducer';\nimport apiSettingsReducer from '../modules/joal-api/settings/settings.reducer';\nimport apiSpeedReducer from '../modules/joal-api/speed/speed.reducer';\nimport apiAnnouncersReducer from '../modules/joal-api/announcers/announcers.reducer';\nimport apiStompReducer from '../modules/joal-api/stomp/stomp.reducer';\nimport alertReducer from '../modules/alerts/alerts.reducer';\n\nexport default combineReducers({\n  api: combineReducers({\n    torrentFiles: apiTorrentFileReducer,\n    client: apiClientReducer,\n    announcers: apiAnnouncersReducer,\n    settings: apiSettingsReducer,\n    speed: apiSpeedReducer,\n    stomp: apiStompReducer\n  }),\n  app: combineReducers({\n    config: uiConfigReducer,\n    torrentsTable: torrentsTableReducer\n  }),\n  theme: themeReducer,\n  alerts: alertReducer,\n  router\n});\n","// @flow\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { createHashHistory } from 'history';\nimport { routerMiddleware } from 'react-router-redux';\nimport rootReducer from '../reducers';\n\nconst history = createHashHistory();\nconst router = routerMiddleware(history);\nconst enhancer = applyMiddleware(thunk, router);\n\nfunction configureStore(initialState: {} | void) {\n  return createStore(rootReducer, initialState, enhancer);\n}\n\nexport default { configureStore, history };\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { configureStore, history } from './store/configureStore';\nimport * as serviceWorker from './serviceWorker';\nimport { saveGUIConfig } from './utils/ConfigProvider';\nimport { connectStomp } from './modules/joal-api';\nimport 'typeface-roboto';\nimport './app.global.css';\n\nconst attemptToGetUiConfigFromQuerySearchParam = () => {\n  if (!window.location.search || !window.location.search.includes('ui_credentials')) {\n    return;\n  }\n  const uRLSearchParams = new URLSearchParams(window.location.search); // eslint-disable-line compat/compat\n  const credentialsUriEncoded = uRLSearchParams.get('ui_credentials');\n  if (credentialsUriEncoded === null) {\n    return;\n  }\n\n  try {\n    const config = JSON.parse(decodeURIComponent(credentialsUriEncoded));\n    saveGUIConfig(config);\n  } catch (e) {\n    console.error('Failed to extract uiConfig from url params.', e);\n  } finally {\n    // Remove url param from uri to make it cleaner in history tab\n    uRLSearchParams.delete('ui_credentials');\n    let cleanUri = window.location.pathname;\n    if ([...uRLSearchParams].length >= 1) {\n      cleanUri += `?${uRLSearchParams.toString()}`;\n    }\n    if (window.location.hash) {\n      cleanUri += window.location.hash;\n    }\n    window.history.replaceState({}, document.title, cleanUri);\n  }\n};\n\nconst store = configureStore();\n\nattemptToGetUiConfigFromQuerySearchParam();\n\nconnectStomp(store);\n\nconst rootEl = document.getElementById('root');\n\nlet render = () => {\n  // Dynamically import our main App component, and render it\n  const Root = require('./pages/Root').default; // eslint-disable-line global-require\n  ReactDOM.render(<Root store={store} history={history} />, rootEl);\n};\n\nif (module.hot) {\n  // Support hot reloading of components\n  // and display an overlay for runtime errors\n  const renderApp = render;\n\n  // In development, we wrap the rendering function to catch errors,\n  // and if something breaks, log the error\n  render = () => {\n    renderApp();\n  };\n\n  // Whenever the App component file or one of its dependencies\n  // is changed, re-import the updated component and re-render it\n  module.hot.accept('./pages/Root', () => {\n    setTimeout(render);\n  });\n}\n\nrender();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// @flow\nexport const FAILED_TO_ANNOUNCE = '@@api/listener/FAILED_TO_ANNOUNCE';\nexport const SUCCESSFULLY_ANNOUNCE = '@@api/listener/SUCCESSFULLY_ANNOUNCE';\nexport const TOO_MANY_ANNOUNCES_FAILED = '@@api/listener/TOO_MANY_ANNOUNCES_FAILED';\nexport const WILL_ANNOUNCE = '@@api/listener/WILL_ANNOUNCE';\n\nexport const RESET_ANNOUNCER_STATE = '@@reset/RESET_ANNOUNCER_STATE';\n\nexport const resetAnnouncerState = () => (\n  { type: RESET_ANNOUNCER_STATE }\n);\n","// @flow\nimport isElectron from 'is-electron';\nimport type { GuiConfig } from './types';\n\nlet confProvider;\n\nif (isElectron()) {\n  confProvider = require('./ElectronConfigProvider'); // eslint-disable-line global-require\n} else {\n  confProvider = require('./WebBrowserConfigProvider'); // eslint-disable-line global-require\n}\n\n\nexport const getGUIConfig = () => confProvider.getConfig();\nexport const saveGUIConfig = (config: GuiConfig) => confProvider.saveConfig(config);\n","// @flow\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./configureStore.prod').default; // eslint-disable-line global-require\n} else {\n  module.exports = require('./configureStore.dev').default; // eslint-disable-line global-require\n}\n","// @flow\nimport type { Config } from './types';\n\nexport const LOCAL_CONFIG_HAS_CHANGED = '@@ui/LOCAL_CONFIG_HAS_CHANGED';\nexport const DISCARD_LOCAL_CONFIG = '@@ui/DISCARD_LOCAL_CONFIG';\n\nexport function localConfigHasChanged(config: Config) {\n  return {\n    type: LOCAL_CONFIG_HAS_CHANGED,\n    config\n  };\n}\n\n\nexport function discardLocalConfigChanges() {\n  return {\n    type: DISCARD_LOCAL_CONFIG,\n  };\n}\n","// @flow\nexport const SEEDING_SPEED_HAS_CHANGED = '@@api/listener/SEEDING_SPEED_HAS_CHANGED';\n\nexport const RESET_SPEED_STATE = '@@reset/RESET_SPEED_STATE';\n\nexport const resetSpeedState = () => (\n  { type: RESET_SPEED_STATE }\n);\n","// @flow\n\nexport const TORRENT_SEARCH_FILTER_TEXT_CHANGED = '@@ui/torrents-table/TORRENT_SEARCH_FILTER_TEXT_CHANGED';\n\nexport function changeSearchFilterText(text: string) {\n  return {\n    type: TORRENT_SEARCH_FILTER_TEXT_CHANGED,\n    text\n  };\n}\n","// @flow\r\nexport const CHANGE_THEME_TYPE = '@@ui/theme/CHANGE_THEME_TYPE';\r\n\r\nexport function changeThemeType() {\r\n  return {\r\n    type: CHANGE_THEME_TYPE\r\n  };\r\n}\r\n","// @flow\nexport const REMOVE_NOTIFICATION = '@@notifications/REMOVE_NOTIFICATION';\n\nexport const removeNotification = (id: string) => ({\n  type: REMOVE_NOTIFICATION,\n  payload: id\n});\n"],"sourceRoot":""}